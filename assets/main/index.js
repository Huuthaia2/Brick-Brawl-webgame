System.register("chunks:///_virtual/BezierFly.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BezierN.ts"],(function(t){"use strict";var i,e,o,s,n,r,v,l;return{setters:[function(t){i=t.defineProperty},function(t){e=t.cclegacy,o=t._decorator,s=t.Vec3,n=t.Tween,r=t.Quat,v=t.v3},function(t){l=t.BezierN}],execute:function(){var a,h,c;e._RF.push({},"02dc2vmQRxI3bFIsMH+4V7e","BezierFly",void 0);var _=o.ccclass;o.property,t("BezierFly",_("BezierFly")((c=h=function(){function t(){i(this,"v3_a",new s),i(this,"dir_v3",new s),i(this,"v3_b",new s),i(this,"_holdPosition",!1),i(this,"q_a",new r),i(this,"_moveTW",null),i(this,"_finishCB",null)}var e=t.prototype;return e.stopMove=function(){this._moveTW&&(this._moveTW.stop(),this._moveTW=null)},e.move=function(i,e,o){this._finishCB=o,i.getWorldPosition(this.v3_a);s.distance(this.v3_a,e);s.add(this.v3_b,this.v3_a,e),this.v3_b.multiplyScalar(.5),this.v3_b.y+=12;for(var n=[this.v3_a,this.v3_b,e],r=new l(n),v=[],a=0;a<15;a++){var h=(a+1)/15;v[a]=r.GetBezierPoint(h,this.v3_a,this.v3_b,e)}this.fishFly(i,v,t.FLYTIME/15)},e.fishFly=function(i,e,o){void 0===o&&(o=t.FLYTIME),this.stopMove(),this._moveTW=new n(i);for(var l=this,a=function(t,e,n,a){var h=v(e).subtract(n).normalize(),c=new r;r.fromViewUp(c,h,s.UP);var _=i.getWorldScale();_.multiplyScalar(1+.1*a),l._moveTW.to(o,{worldPosition:n,worldRotation:c,worldScale:_})},h=1;h<e.length;h++){var c=e[h];a(0,e[h-1],c,h)}l._moveTW.call((function(){l._finishCB&&l._finishCB()})),l._moveTW.start()},t}(),i(h,"FLYTIME",1),a=c))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/Group.ts",["cc"],(function(e){"use strict";var r,n;return{setters:[function(e){r=e.cclegacy,n=e.Enum}],execute:function(){var o,u;e({ColorGroup:void 0,Group:void 0}),r._RF.push({},"037d6arXHhHcZnqqTvJOEVo","Group",void 0),function(e){e[e.Player=2]="Player",e[e.Mine=8]="Mine",e[e.Obstacle=16]="Obstacle",e[e.Road=32]="Road",e[e.Car=128]="Car",e[e.Brick=256]="Brick",e[e.WinArea=512]="WinArea",e[e.RedEnemy=4096]="RedEnemy",e[e.BlueEnemy=8192]="BlueEnemy"}(o||(o=e("Group",{}))),n(o),function(e){e[e.Red=2]="Red",e[e.Green=4]="Green",e[e.Blue=8]="Blue",e[e.Black=14]="Black"}(u||(u=e("ColorGroup",{}))),n(u),r._RF.pop()}}}));

System.register("chunks:///_virtual/FBApp.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./FBAdManager.ts"],(function(n){"use strict";var e,o,t,c,a,s,r,i;return{setters:[function(n){e=n.inheritsLoose,o=n.defineProperty,t=n.assertThisInitialized,c=n.asyncToGenerator},function(n){a=n.cclegacy,s=n._decorator,r=n.Component},function(n){i=n.default}],execute:function(){var l;a._RF.push({},"056a8jjEGJL2r7ef9FBqEA+","FBApp",void 0);var d=s.ccclass,u=(s.property,"4864743603539728_5324943400853077"),g="4864743603539728_5324944030853014",f="4864743603539728_5324942390853178";n("FBApp",d(l=function(n){function a(){for(var e,c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return e=n.call.apply(n,[this].concat(a))||this,o(t(e),"productId",""),o(t(e),"_ready",!1),e}e(a,n);var s=a.prototype;return s.start=function(){},s.initPayment=function(){this.checkPaymentAPI();var n=this;FBInstant.payments.onReady((function(){console.log("===> Payments Ready!"),console.log("===> query products..."),FBInstant.payments.getCatalogAsync().then((function(e){console.log("===> query products ready: "),console.log(e),console.log("==========================="),e.length>0&&(n.productId=e[0].productID)})).catch((function(n){console.error("===> query products error: ",n)})),n._ready=!0,console.log("===> checking purchases ..."),FBInstant.payments.getPurchasesAsync().then((function(n){console.log("===> purchases: ",n)})).catch((function(n){console.error("===> checking purchases failed: ",n)}))}))},s.checkPaymentAPI=function(){var n=FBInstant.getSupportedAPIs();return n.indexOf("payments.purchaseAsync")>=0?(console.log("===> Payment available"),!0):(console.log("===> Apis: ",n),console.warn("===> Payment not available!"),!1)},s.onBuyProduct=function(){this._ready?(console.log("===> Buy product: "+this.productId),FBInstant.payments.purchaseAsync({productID:this.productId}).then((function(n){console.log("===> purchase done: ",n)})).catch((function(n){console.warn("===> purchase failed: ",n)}))):console.warn("===> Payment not ready")},s.onLogEvent=function(){console.info("===> log event test"),a.logEvent("test",{random_value:Math.floor(100*Math.random())})},a.logEvent=function(n,e){(console.info("logging event: ",n,e),void 0!==window.gtag)?(0,window.gtag)("event",n,e):console.warn("===> gtag not init")},a.addInterstitial=function(){try{console.log("添加添加插屏广告成功"),i.addInterstitial(u)}catch(n){console.info("添加插屏广告失败，错误: "+n.message)}},a.addRewardedVideo=function(){try{i.addRewardedVideo(g),console.log("添加激励视频广告成功")}catch(n){console.info("添加激励视频广告失败，错误: "+n.message)}},a.initAds=function(){i.loadAll()},a.isInterstitialReady=function(){i.isInterstitialAdReady()},a.showInterstitial=function(){var n=c(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i.isInterstitialAdReady()?i.showInterstitialAd().then((function(){console.log("播放插屏广告: 成功")})).catch((function(n){console.log("播放插屏广告: 失败，原因:",n.message)})):console.log("插屏广告未加载完毕，或者播放间隔未到");case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a.isRewardVideoReady=function(){i.isRewardedVideoReady()},a.showRewardVideo=function(){i.isRewardedVideoReady()?i.showRewardedVideo().then((function(){console.log("播放激励视频广告: 成功")})).catch((function(n){console.log("播放激励视频广告: 失败，原因:",n.message)})):console.log("没有可用广告")},a.addBanner=function(){console.log("banner添加成功"),i.addBanner(f)},a.showBanner=function(){i.isBannerReady()?i.showBannerAsync().then((function(){console.log("显示Banner广告: 成功")})).catch((function(n){console.log("显示Banner广告: 失败，原因:",n.message)})):console.log("未满足显示间隔要求")},a.hideBanner=function(){i.hideBannerAsync().then((function(){console.log("隐藏Banner广告: 成功")})).catch((function(n){console.log("隐藏Banner广告: 失败，原因:",n.message)}))},a}(r))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./receiveSucTIp.ts"],(function(e){"use strict";var n,o,E,t,i;return{setters:[function(e){n=e.defineProperty},function(e){o=e.cclegacy,E=e.Enum,t=e.find},function(e){i=e.ReceiveSucTIp}],execute:function(){var a,c,N,r,s,_,u;e({BoxType:void 0,ColliderGroup:void 0,EventName:void 0,GameStatus:void 0,Notice:void 0,NoticeName:void 0,StorageKey:void 0}),o._RF.push({},"07dfb9rUe1PFaOlMABN9sDn","Constants",void 0),function(e){e.TOUCH_START="touch-start",e.TOUCH_MOVE="touch-move",e.TOUCH_END="touch-end",e.TOUCH_CANCEL="touch-cancel",e.CLOSE_GUIDE="close-guide",e.SYNC_CAMERA_POS="sync-camera-pos",e.NOTICE_PLAYER_ACTION_AREA_UPDATA="notice-player-action-area-update",e.NOTICE_SNAKE_JOINT_INTERSECTION="notice-snake-joint-intersection",e.NOTICE_IN_BOX="notice-in-box",e.REDUCCE_KEY="reduce-key",e.TREASURE_CANCEL_VIDEO="treasure-cancel_video",e.OPEN_BOX="open-box"}(a||(a=e("EventName",{}))),function(e){e.CAMERA_UPDATE="camera-update",e.CHANGE_FAT="change-fat",e.OBSTACLE="obstacle",e.WALL="wall",e.END_WALL="end-wall",e.HIDE_GUIDE="hide-guide",e.UPDATE_COIN="update-coin",e.SHAKE_COIN="shake_coin",e.CAMERA_MOVE="camera-move",e.GLASS_BURST="glass-burst",e.CHANGE_SKIN="change-skin",e.CHANGE_PLAYER="change-player",e.HURDLE="hurdle",e.CLIMBING_POLE="climbing-pole",e.BOMB="bomb",e.JUMP_FLY="jump-fly",e.FLY="fly",e.CRAZY_CLICK="crazy-click"}(c||(c=e("Notice",{}))),function(e){e.COLLIDER_BOX="collider-box",e.CUT_JOINT="cut-joint",e.JOINT_MOVE="joint-move",e.STOP_TWEEN="stop-tween",e.BOX_BOOM="box-boom",e.UPDATE_SHOW_LEVEL="update-show-level",e.UPDATA_GOLD="update-gold",e.UPDATE_ENERGY="updata-energy",e.UPDATE_SNAKE_LENGTH="update-snake-length",e.CLOSE_SHOW_LEVEL="close-show-level",e.PERSON_DIE="person-die",e.FULL_ENERGY="full_ENERGY",e.RETACK_VILLAIN="retack-villain",e.SHAKE_COIN="shake-coin",e.CHANGE_SKIN="change-skin",e.SHAKE_DIAMOND="shake-diamond",e.SHAKE_ENERGY="shake-energy",e.CHANGE_BIG="change-big"}(N||(N=e("NoticeName",{}))),function(e){e.START="game-start",e.END="game-end",e.NEXT="game-next",e.END_POINT="end-point",e.SUSPEND="suspend",e.RESUME="resume"}(r||(r=e("GameStatus",{}))),function(e){e[e.WALL=0]="WALL",e[e.HURDLE=1]="HURDLE"}(s||(s=e("BoxType",{}))),E(s),function(e){e.LEVEL="level",e.COIN="coin",e.GOLD="gold",e.STORE="store",e.SKIN="skin",e.FREENUM="freeNum",e.TRYNUM="tryNum",e.SCENE="scene"}(_||(_=e("StorageKey",{}))),function(e){e[e.FOOD=1]="FOOD",e[e.PLAYER=2]="PLAYER",e[e.OBSTACLE=4]="OBSTACLE",e[e.ICE=8]="ICE"}(u||(u=e("ColliderGroup",{}))),E(u);var l=e("Constants",function(){function e(){}return e.isAllLock=function(){for(var n=e.storeData,o=1;o<n.length-1;o++)if(n[o].isLock)return!1;return!0},e.showTip=function(e){var n,o=t("Canvas/main/receiveSucTIp");null==o||null===(n=o.getComponent(i))||void 0===n||n.showTip(e)},e}());n(l,"EventName",a),n(l,"level",1),n(l,"coin",0),n(l,"pageName",""),n(l,"fat",!1),n(l,"skin","common"),n(l,"trySkin",!1),n(l,"changeSkin",!1),n(l,"scene",0),n(l,"videoView",void 0),n(l,"GameStatus",r),n(l,"NoticeName",N),n(l,"ColliderGroup",u),n(l,"isSeal",!1),n(l,"isMove",!1),n(l,"snake_pos",[]),n(l,"StorageKey",_),n(l,"gold",0),n(l,"diamond",0),n(l,"fruits",0),n(l,"skinName","common"),n(l,"fullEnergy",!1),n(l,"storeData",[]),n(l,"guideTip",["小蛇缠绕小人可完成击杀","撞击方块会消耗小蛇的生命值","注意躲避机关，否则容易受伤"]),n(l,"isTrySkin",!1),n(l,"isTurntableGetSkin",!0),n(l,"isGameEnd",!1),n(l,"orderNum",0),n(l,"BANNER_AD_KEY","jflaavjksa1irghvbd"),n(l,"SHOWLASTSIGNTIME","SHOWLASTSIGNTIME"),n(l,"SHOWSIGNTIMES","SHOWSIGNTIMES"),n(l,"tryOtherAnimal_AD_KEY","ccfc09mol673ikbhki"),n(l,"TREASURE_AD_KEY","ccfc09mol673ikbhki"),n(l,"SHOWLASTTURNTABELTIME","SHOWLASTTURNTABELTIME"),n(l,"LevelChanged","LevelChanged"),o._RF.pop()}}}));

System.register("chunks:///_virtual/receiveSucTIp.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,r,n,o,c,a,l,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Animation,l=e.Label,p=e.Component}],execute:function(){var u,s,h,f,y,b,v;o._RF.push({},"10447YZxYZB0pzxChG1v0R3","receiveSucTIp",void 0);var g=c.ccclass,w=c.property;e("ReceiveSucTIp",(u=g("ReceiveSucTIp"),s=w({type:a}),h=w({type:l}),u((b=i((y=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return i=e.call.apply(e,[this].concat(o))||this,r(n(i),"showAni",b,n(i)),r(n(i),"tipLabel",v,n(i)),i}return t(i,e),i.prototype.showTip=function(e){this.tipLabel.string=e,this.showAni.play()},i}(p)).prototype,"showAni",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(y.prototype,"tipLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,i,r,t,o,u,l,a,c,p;return{setters:[function(e){n=e.defineProperty,i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){u=e.cclegacy,l=e._decorator,a=e.AudioSource,c=e.AudioClip,p=e.Component}],execute:function(){var s,f,b,g,d,y,m,w,z,M,h,S,v,A,B,G,I,_,L,D,P,W,j,C,E,F,H,O,R;u._RF.push({},"15e73iHnm9OfLG5obIVjAWS","AudioManager",void 0);var k=l.ccclass,x=l.property,T=null;e("AudioManager",(s=k("AudioManager"),f=x(a),b=x(c),g=x(c),d=x(c),y=x(c),m=x(c),w=x(c),z=x(c),M=x(c),h=x(c),S=x(c),v=x(c),s((R=O=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return n=e.call.apply(e,[this].concat(r))||this,t(o(n),"audioSource",G,o(n)),t(o(n),"gameBG",I,o(n)),t(o(n),"gameEndBG",_,o(n)),t(o(n),"btn",L,o(n)),t(o(n),"coin",D,o(n)),t(o(n),"dropWater",P,o(n)),t(o(n),"getMine",W,o(n)),t(o(n),"success",j,o(n)),t(o(n),"fail",C,o(n)),t(o(n),"setMine1",E,o(n)),t(o(n),"setMine2",F,o(n)),t(o(n),"reward",H,o(n)),n}return r(n,e),n.prototype.onLoad=function(){n.Instance=this,T=this.audioSource},n.playMusic=function(e,n){void 0===n&&(n=1),T.stop(),e&&(T.clip=e),T.volume=n,T.play()},n.stopMusic=function(){T.stop()},n.pauseMusic=function(){T.pause()},n.playSound=function(e,n){"true"!=localStorage.getItem("Sound")&&(n=n||1,n*=1.2,T.playOneShot(e,n))},n}(p),n(O,"Instance",null),G=i((B=R).prototype,"audioSource",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(B.prototype,"gameBG",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(B.prototype,"gameEndBG",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(B.prototype,"btn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(B.prototype,"coin",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(B.prototype,"dropWater",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(B.prototype,"getMine",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(B.prototype,"success",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(B.prototype,"fail",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(B.prototype,"setMine1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(B.prototype,"setMine2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(B.prototype,"reward",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B))||A));u._RF.pop()}}}));

System.register("chunks:///_virtual/Brick.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Group.ts","./Utility.ts","./Map.ts"],(function(i){"use strict";var t,e,r,o,n,s,l,a,d,c,u,h,p,f,v,y,g,b;return{setters:[function(i){t=i.defineProperty,e=i.applyDecoratedDescriptor,r=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized,s=i.asyncToGenerator},function(i){l=i.cclegacy,a=i._decorator,d=i.Vec3,c=i.Quat,u=i.Collider,h=i.RigidBody,p=i.ERigidBodyType,f=i.find},function(i){v=i.ColorGroup,y=i.Group},function(i){g=i.Utility},function(i){b=i.Map}],execute:function(){var k,m,w,B,_,R,P;l._RF.push({},"19899AbVXlGBpgcmzUxBaJl","Brick",void 0);var x=a.ccclass,C=a.property;i("Brick",(k=x("Brick"),m=C({type:v}),k((P=R=function(i){function e(){for(var e,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return e=i.call.apply(i,[this].concat(s))||this,o(n(e),"colorGroup",_,n(e)),t(n(e),"collider",null),t(n(e),"initPosition",null),t(n(e),"initRotation",null),t(n(e),"targetNode",null),t(n(e),"isTrack",!1),t(n(e),"rigidBody",null),t(n(e),"linearVelocity",new d),t(n(e),"_temp_vec3",new d),t(n(e),"v3_a",new d),t(n(e),"dir_v3",new d),t(n(e),"q_a",new c),t(n(e),"minSpeed",6),e}r(e,i);var l=e.prototype;return l.onLoad=function(){var i=this.getComponentInChildren(u);this.collider=i,this.initPosition=i.node.worldPosition.clone(),this.initRotation=i.node.worldRotation.clone(),this.rigidBody=i.getComponent(h)},l.start=function(){this.collider.setGroup(y.Brick),this.collider.setMask(65535),this.collider.on("onCollisionEnter",this.onCollisionEnter,this),this.collider.on("onCollisionExit",this.onCollisionExit,this)},l.update=function(i){(this.isTrack||g.isValid(this.collider.node)&&this.targetNode&&g.isValid(this.targetNode)&&this.linearVelocity.y<=0&&d.distance(this.collider.node.worldPosition,this.targetNode.worldPosition)<5)&&(this.isTrack=!0,this.getComponentInChildren(h).type=p.KINEMATIC,this.runToTargetRole(i))},l.onEnable=function(){e.bricks[this.uuid]=this,this.collider.node.worldPosition=this.initPosition,this.collider.node.worldRotation=this.initRotation},l.onDisable=function(){this.isTrack=!1,this.targetNode=null,this.minSpeed=6,delete e.bricks[this.uuid]},l.onCollisionEnter=function(){var i=s(regeneratorRuntime.mark((function i(t){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.otherCollider){i.next=2;break}return i.abrupt("return");case 2:if((r=t.otherCollider.getGroup())!=y.Obstacle){i.next=7;break}delete e.bricks[this.uuid],i.next=12;break;case 7:if(r!=y.Road){i.next=12;break}return i.next=10,g.waitForSeconds(.1);case 10:this.colorGroup===v.Red?this.collider.removeMask(y.Player|y.BlueEnemy):this.colorGroup===v.Blue?this.collider.removeMask(y.Player|y.RedEnemy):this.colorGroup===v.Green&&this.collider.removeMask(y.RedEnemy|y.BlueEnemy),this.rigidBody&&(this.rigidBody.enabled=!1);case 12:case"end":return i.stop()}}),i,this)})));return function(t){return i.apply(this,arguments)}}(),l.onCollisionExit=function(i){i.otherCollider&&(i.otherCollider.getGroup()==y.Obstacle&&(e.bricks[this.uuid]=this))},l.runToTargetRole=function(i){this.collider.node.getWorldPosition(this.v3_a),this.targetNode.getWorldPosition(this._temp_vec3);var t=this.collider.node.forward;this.dir_v3.set(t.x,t.y,t.z),this.dir_v3.negative().normalize(),this.minSpeed+=6*i;var e=this.minSpeed*i;this.v3_a.add(this.dir_v3.multiplyScalar(e)),this.collider.node.setWorldPosition(this.v3_a),this.v3_a.subtract(this._temp_vec3),this.v3_a.normalize(),this.v3_a.negative(),c.fromViewUp(this.q_a,this.v3_a),this.collider.node.setWorldRotation(this.q_a)},l.findTheNearestTarget=function(){var i=s(regeneratorRuntime.mark((function i(){var t,e,r,o,n,s,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.targetNode){i.next=27;break}return i.next=3,g.waitForSeconds(.4);case 3:if(this.node&&this.node.isValid&&g.isValid(this.collider.node)){i.next=5;break}return i.abrupt("return");case 5:if(f("player")&&f("AI1")&&f("AI2")){i.next=7;break}return i.abrupt("return");case 7:if(e=void 0,r=d.distance(this.collider.node.worldPosition,f("AI2").worldPosition),o=d.distance(this.collider.node.worldPosition,f("AI1").worldPosition),n=d.distance(this.collider.node.worldPosition,f("player").worldPosition),!((s=Math.min(r,o,n))>5)){i.next=14;break}return i.abrupt("continue",0);case 14:i.t0=s,i.next=i.t0===r?17:i.t0===o?19:i.t0===n?21:23;break;case 17:return e=f("AI2"),i.abrupt("break",23);case 19:return e=f("AI1"),i.abrupt("break",23);case 21:return e=f("player"),i.abrupt("break",23);case 23:l=null===(t=e)||void 0===t?void 0:t.getChildByPath("human/RootNode/Bip001/Bip001 Pelvis/Bip001 Spine/Bip001 Spine1/Bip001 Neck/Bip001 R Clavicle/Bip001 R UpperArm/Bip001 R Forearm"),this.targetNode=l,i.next=0;break;case 27:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),e}(b),t(R,"bricks",{}),_=e((B=P).prototype,"colorGroup",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=B))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/MainPage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./QtSdk.ts"],(function(n){"use strict";var e,t,o,a,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,a=n.Component},function(n){i=n.QtSdk}],execute:function(){var r;t._RF.push({},"1a258LWxRtIBY9XSFGyxx+I","MainPage",void 0);var s=o.ccclass;o.property,n("MainPage",s("MainPage")(r=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onEnable=function(){i.sendOpenPageEvent("主页面")},o.onDisable=function(){i.sendClosePageEvent("主页面")},t}(a))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/BrickHttp.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.defineProperty},function(t){s=t.cclegacy}],execute:function(){var n,r;t({EResponseStatusCode:void 0,HTTP_METHOD:void 0}),s._RF.push({},"242a9B0UpdPRYSJv0rfsnaR","BrickHttp",void 0),function(t){t.POST="POST",t.GET="GET"}(n||(n=t("HTTP_METHOD",{}))),function(t){t.TIME_OUT="ResponseStatus:TIME_OUT",t.ERROR_DATA="ResponseStatus:ERROR_DATA",t.ERROR_OTHER="ResponseStatus:ERROR_OTHER",t.SUCCESS="ResponseStatus:SUCCESS",t.STACK="stack"}(r||(r=t("EResponseStatusCode",{})));var o=function(){function t(t,s,n){for(var r in e(this,"timeout",1e4),e(this,"baseURL",void 0),e(this,"headers",{}),s)this.headers[r]=s[r];n&&(this.timeout=n),this.baseURL=t}t.initialization=function(e){t.getXMLHttpRequest=e};var s=t.prototype;return s.post=function(t,e){return this.baseURL&&(t=""+this.baseURL+t),this.send(t,n.POST,e)},s.get=function(t,e){return this.baseURL&&(t=""+this.baseURL+t),this.send(t,n.GET,e)},s.send=function(e,s,o){var a=this;return new Promise((function(i,u){var c=t.getXMLHttpRequest();switch(c.timeout=a.timeout,c.onreadystatechange=function(){if(4===c.readyState)if(c.status>=200&&c.status<400){var t=c.responseText;try{t=JSON.parse(t);var e={Status:r.SUCCESS,Data:t};i(e)}catch(t){u({Status:r.ERROR_DATA,Data:t})}}else{var s={Status:c.responseText?r.ERROR_OTHER:r.TIME_OUT,Data:c.responseText};u(s)}},c.onerror=function(t){u(t)},c.ontimeout=function(t){u(t)},s){case n.POST:c.open(s,e,!0),a.setHeaders(c),c.send(JSON.stringify(o));break;case n.GET:var p=a.getParams(o);c.open(s,e+p,!0),a.setHeaders(c),c.send();break;default:throw new Error(" Request type error .")}}))},s.getParams=function(t){if(!t)return"";var e="?";for(var s in t)e="?"===e?""+e+s+"="+t[s]:e+"&"+s+"="+t[s];return e},s.setHeaders=function(t){for(var e in this.headers)try{t.setRequestHeader(e,this.headers[e])}catch(t){console.log("jsw",t)}},t}();e(o,"getXMLHttpRequest",(function(){return new XMLHttpRequest}));t("BrickHttp",function(){function t(t,s,n){e(this,"http",void 0),this.http=new o(t,s,n)}var s=t.prototype;return s.get=function(t,e){return this.http.get(t,e)},s.post=function(t,e){return this.http.post(t,e)},t.GetFileByArrayBuffer=function(t,e){var s=new XMLHttpRequest;s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&(200===s.status?(s.responseType="arraybuffer",e&&e(s.response)):e&&e(null))},s.open("GET",t,!0),s.send()},t.SpeedTest=function(t){return console.log("jsw debug",t),new Promise((function(e,s){var n,r,a=o.getXMLHttpRequest();a.ontimeout=function(){e(0)},a.onreadystatechange=function(){if(2===a.readyState&&(n=Date.now()),4===a.readyState&&200===a.status){r=Date.now();var t=a.responseText.length/((r-n)/1e3)/1024;e(Math.floor(t))}4===a.readyState&&200!==a.status&&e(0)},a.onerror=function(){console.log("jsw 测试文件获取失败请检查地址"),e(0)},a.open("GET",t,!0),n=Date.now(),a.send()}))},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/start.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,n,t,a,o,l,i,c,s,u,p,g,f;return{setters:[function(e){r=e.defineProperty,n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,i=e._decorator,c=e.Sprite,s=e.assetManager,u=e.tween,p=e.Prefab,g=e.director,f=e.Component}],execute:function(){var d,v,B,h,m;l._RF.push({},"27af9CpuJdBhK2Dy3u4Zv+E","start",void 0);var y=i.ccclass,S=i.property,b="currentLevelKey",L=e("SubPackage",function(){function e(){}return e.getBundle=function(e){return s.getBundle(e)},e}());r(L,"packageGame","packageGame"),r(L,"packageGameModel1","modelFBX"),r(L,"modelPrefab","modelPrefab"),r(L,"packageLevel","packageLevel");e("Start",(d=y("Start"),v=S(c),d((m=n((h=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return n=e.call.apply(e,[this].concat(l))||this,a(o(n),"progressBar",m,o(n)),r(o(n),"progressTween",null),n}t(n,e);var l=n.prototype;return l.onEnable=function(){},l.onDisable=function(){},l.start=function(){var e=this;this.progressBar.fillRange=0,s.loadBundle("modelFBX",(function(r){s.loadBundle("modelPrefab",(function(){s.loadBundle("packageLevel",(function(r){s.loadBundle("packageGame",(function(r,n){e.progressTween.stop(),e.preloadScene(n,"game")}))}))}))})),this.progressTween=u(this.progressBar).to(5,{fillRange:1}).call((function(){})),this.progressTween.start()},l.getCurrentLevel=function(){return parseInt(localStorage.getItem(b)?localStorage.getItem(b):"1")},l.getCurRenderLevel=function(){return(this.getCurrentLevel()-1)%5+1},l.preloadScene=function(e,r){var n=this,t=this.getCurRenderLevel();console.error("load preloadScene"),L.getBundle(L.packageLevel).load("level"+t,p,(function(e,r,t){var a=e/r/2;n.progressBar.fillRange<a&&(n.progressBar.fillRange=a)}),(function(t,a){a&&e.loadScene(r,(function(e,r,t){var a=e/r/2+.5;n.progressBar.fillRange<a&&(n.progressBar.fillRange=a)}),(function(e){g.loadScene(r)}))}))},n}(f)).prototype,"progressBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=h))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./QtSdk.ts"],(function(e){"use strict";var n,t,o,r,s;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.Component},function(e){s=e.QtSdk}],execute:function(){var c;t._RF.push({},"3072eDL2l1PIaYX3WEAn6az","ShopPage",void 0);var a=o.ccclass;o.property,e("ShopPage",a("ShopPage")(c=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.onEnable=function(){s.sendOpenPageEvent("商城页面")},o.onDisable=function(){s.sendClosePageEvent("商城页面")},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ConvenientRequest.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./BrickHttp.ts"],(function(e){"use strict";var n,t,o,r,i,s;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator},function(e){o=e.cclegacy},function(e){r=e.Config},function(e){i=e.EResponseStatusCode,s=e.BrickHttp}],execute:function(){o._RF.push({},"38a4dP2JiRO9rAlDBvLTBZU","ConvenientRequest",void 0);e("EConvenientRequest",i),e("ConvenientRequest",function(){function e(){}return e.HttpRequestPost=function(){var e=t(regeneratorRuntime.mark((function e(n,t){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new s(r.SERVICE_URL,this.headers),e.next=3,o.post(""+n,t).catch((function(e){return{Data:{},Status:i.STACK}}));case 3:return(c=e.sent).Interface=n,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),e.HttpRequestGet=function(){var e=t(regeneratorRuntime.mark((function e(n,t){var o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new s(r.SERVICE_URL,this.headers),e.next=3,o.get(""+n,t).catch((function(e){return{Data:{},Status:i.STACK}}));case 3:return(c=e.sent).Interface=n,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),e.login=function(n){return new Promise((function(t,o){e.getAdConfig().then((function(e){console.log("adConfig",e)})),e.HttpRequestPost("/login",{Code:n.code,Query:n.query,AnonymousCode:n.anonymousCode,Extra:n.extra,Platform:n.platform}).then((function(e){e.Data.query=n.query,r.USER_UID=e.Data.data.OpenId,r.CID=e.Data.data.CID,Object.assign(r.serverConfig,e.Data.data.Config),console.log("login",e),t(e)})).catch((function(e){o(e),console.log("err_login",e)}))}))},e.level=function(n){e.HttpRequestGet("/level",n).then((function(e){console.log("level",e)})).catch((function(e){console.log("err_level",e)}))},e.exit=function(){var n=e.time-r.StartCurrentTime;e.HttpRequestGet("/exit",{Sec:n}).then((function(e){e&&console.log("exit",e)})).catch((function(e){console.error("err_exit",e)}))},e.uploadVsInfo=function(n){e.HttpRequestPost("/uploadVsInfo",n).then((function(e){e&&console.log("uploadVsInfo",e)})).catch((function(e){console.error("uploadVsInfo",e)}))},e.uploadVideoInfo=function(n){n.VideoId&&e.HttpRequestPost("/uploadVideoInfo",n).then((function(e){e&&console.log("uploadVideoInfo",e)})).catch((function(e){console.error("uploadVideoInfo",e)}))},e.sendAd=function(n,t,o,i){var s={ID:o||1,Type:n,Level:r.CurrentLevel,Ev:t,Ext:i||""};e.HttpRequestGet("/ad",s).then((function(e){e&&console.log("ad",e)})).catch((function(e){console.error("err_ad",e)}))},e.sendEvent=function(n,t){var o={Name:n,Ext:t};e.HttpRequestPost("/event",o).then((function(e){e&&console.log("event",e)})).catch((function(e){console.error("err_event",e)}))},e.getAdConfig=function(){return new Promise((function(n,t){e.HttpRequestGet("/adConfig").then((function(e){if(e){if(!e.Data.data)return void t({errMsg:"广告数据未配置"});for(var o=0,i=e.Data.data.length;o<i;o++){var s=e.Data.data[o];"1"===s.ad_type?r.BannerIds.push(s.place_id):"2"===s.ad_type&&r.VideoIds.push(s.place_id)}n(r)}})).catch((function(e){console.log("err_adConfig",e)}))}))},e.createBannerAd=function(e){this.sendAd(1,0,e)},e.loadBannerAd=function(e){this.sendAd(1,4,e)},e.errorBannerAd=function(e,n){this.sendAd(1,5,e,n.errCode)},e.displayBannerAd=function(e){this.sendAd(1,1,e)},e.clickBannerAd=function(e){this.sendAd(1,2,e)},e.createVideoAd=function(e){this.sendAd(2,0,e)},e.loadVideoAd=function(e){this.sendAd(2,4,e)},e.errorVideoAd=function(e,n){this.sendAd(2,5,e,n.errCode)},e.displayVideoAd=function(e){this.sendAd(2,1,e)},e.clickVideoAd=function(e){console.warn("点击视频广告"),this.sendAd(2,2,e)},e.watchVideoAd=function(e){this.sendAd(2,3,e)},e.createInterstitialAd=function(e){this.sendAd(3,0,e)},e.loadInterstitialAd=function(e){this.sendAd(3,4,e)},e.errorInterstitialAd=function(e,n){this.sendAd(3,5,e,n.errCode)},e.displayInterstitialAd=function(e){this.sendAd(3,1,e)},n(e,null,[{key:"time",get:function(){return Date.parse((new Date).toString())/1e3}},{key:"headers",get:function(){return r.APP_ID||console.error("APP_ID为空"),{"content-type":"application/json",OS:"ios",Appid:r.APP_ID,Version:r.VERSION,OpenId:r.USER_UID,CID:r.CID}}}]),e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/BezierN.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,o;return{setters:[function(t){e=t.defineProperty},function(t){r=t.cclegacy,i=t._decorator,n=t.v3,o=t.Vec3}],execute:function(){r._RF.push({},"3f8c3Dx0UpHIZBlUTpCy+92","BezierN",void 0);i.ccclass,i.property,t("BezierN",function(){function t(t){e(this,"controllerPointList",[]),e(this,"temp1",new o),e(this,"temp2",new o),e(this,"temp3",new o),e(this,"temp4",new o),this.controllerPointList=t}var r=t.prototype;return r.getPointList=function(t){for(var e=this.controllerPointList.length,r=[1,1],i=3;i<e+1;i++){for(var o=[],s=0;s<r.length;s++)o.push(r[s]);r[0]=1,r[i-1]=1;for(var l=0;l<o.length-1;l++)r[l+1]=o[l]+o[l+1]}for(var c=[],p=0;p<t;p++){for(var a=p/t,u=n(0,0,0),h=0;h<e;h++){var f=e-1-h,m=h,y=r[h]*Math.pow(1-a,f)*Math.pow(a,m);u.add(n(this.controllerPointList[h]).multiplyScalar(y))}c.push(u)}return c},r.GetBezierPoint=function(t,e,r,i){var n=(1-t)*(1-t),s=2*t*(1-t),l=t*t,c=new o;return c.set(0,0,0),this.temp2.set(e.x,e.y,e.z),this.temp3.set(r.x,r.y,r.z),this.temp4.set(i.x,i.y,i.z),c.add(this.temp2.multiplyScalar(n)),c.add(this.temp3.multiplyScalar(s)),c.add(this.temp4.multiplyScalar(l)),c},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,a,r;return{setters:[function(e){n=e.defineProperty},function(e){t=e.cclegacy,a=e._decorator,r=e.instantiate}],execute:function(){var o,s,l;t._RF.push({},"44a95X7rhhIdIo0SXc3U8Lz","PoolManager",void 0);var c=a.ccclass;e("PoolManager",c("PoolManager")((l=s=function(){function e(){}return e.getNode=function(e,n){var t=e.data.name,a=null;return this.handle.has(t)&&(a=this.handle.get(t).pop()),a||(a=r(e)),a.setParent(n),a},e.setNode=function(e){var n=e.name;e.parent=null,this.handle.has(n)?this.handle.get(n).push(e):this.handle.set(n,[e])},e}(),n(s,"handle",new Map),o=l))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/EventBus.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy,r=e._decorator}],execute:function(){var i,a,o;n._RF.push({},"4c247FvJoNJMJR+nOiKQaK6","EventBus",void 0);var s=r.ccclass,c=(r.property,e("EventBus",s("EventBus")((o=a=function(){function e(){}return e.on=function(e,t,n){this.handle[e]||(this.handle[e]=[]);var r={func:t,target:n};this.handle[e].push(r)},e.off=function(e,t,n){var r=this.handle[e];if(!r||r.length<=0)console.log("并未注册"+e+"的事件监听");else for(var i=0;i<r.length;i++){var a=r[i];if(a.func===t&&(!n||n===a.target)){r.splice(i,1);break}}},e.offByTarget=function(e){if(Object.keys(this.handle).length<=0)console.log("未监听到任何事件");else for(var t in this.handle)if(this.handle.hasOwnProperty(t))for(var n=this.handle[t],r=0;r<n.length;r++){n[r].target===e&&n.splice(r,1)}},e.dispatchEvent=function(e){var t=this.handle[e];if(t&&!(t.length<=0)){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++){var o=t[a];o.func.apply(o.target,r)}}},e}(),t(a,"handle",{}),t(a,"addListener",void 0),t(a,"removeListener",void 0),t(a,"removeListenerByTarget",void 0),t(a,"dispatch",void 0),i=o))||i));c.addListener=c.on,c.removeListener=c.off,c.removeListenerByTarget=c.offByTarget,c.dispatch=c.dispatchEvent,n._RF.pop()}}}));

System.register("chunks:///_virtual/FBSdk.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"54621hhXCdG1Lk5KC+fP93t","FBSdk",void 0);var c=window.FBInstant;t("FBSdk",function(){function t(){}return t.tryCreateShortcutAsync=function(){c?(console.info("Try Create shortcut"),c.canCreateShortcutAsync().then((function(t){console.info("canShortcutAsync: ",t),t&&c.createShortcutAsync().then((function(){console.info("Call createShortcutAsync done")})).catch((function(t){console.warn("Call createShortcutAsync Failed: ",t)}))})).catch((function(t){console.info("canShortcutAsync Failed: ",t)}))):console.info("FBInstant Not Available")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CrazyClick.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./Config.ts","./QtSdk.ts"],(function(e){"use strict";var r,s,t,n,o,i,a,c,l,g,u,d,p,h,_;return{setters:[function(e){r=e.defineProperty,s=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.ProgressBar,l=e.randomRangeInt,g=e.tween,u=e.Vec3,d=e.Component},function(e){p=e.EventBus},function(e){h=e.Config},function(e){_=e.QtSdk}],execute:function(){var f,C,y,w,v,B,P;i._RF.push({},"59adfeZ/Z9O9pgxnaadIxcx","CrazyClick",void 0);var k=a.ccclass,T=a.property;e("CrazyClick",(f=k("CrazyClick"),C=T(c),f((P=B=function(e){function s(){for(var s,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return s=e.call.apply(e,[this].concat(i))||this,n(o(s),"progressBar",v,o(s)),r(o(s),"_progress",0),r(o(s),"_reduceProgressTween",null),r(o(s),"_triggerVale",0),r(o(s),"_triggered",!1),r(o(s),"_adShowChance",0),r(o(s),"closeCallBack",null),s}t(s,e);var i=s.prototype;return i.onLoad=function(){s.instance?this.node.destroy():(s.instance=this,this._triggerVale=l(30,50),this._adShowChance=Math.random(),_.sendOpenPageEvent("点击神秘礼盒页"))},i.onDestroy=function(){s.instance=null},i.onCrazyBtn=function(){var e=this;if(this.stopTween(),this._progress+=8,this.progressBar.progress=this._progress/100,this._reduceProgressTween=g(this.node).delay(.05).call((function(){e._progress>0?(e._progress=Math.max(0,e._progress-1),e.progressBar.progress=e._progress/100):e.stopTween()})).union().repeatForever(),this._reduceProgressTween.start(),!this._triggered&&this._progress>=this._triggerVale&&this._adShowChance<=h.serverConfig.AD_CRAZY_CLICK_POP_RATIO){this._triggered=!0;_.playVideoAd(h.VideoIds[0],(function(){e.closeCallBack&&e.closeCallBack(),p.dispatch(h.SHAKE_COIN,10,new u(0,240,0))}),(function(){e.closeCallBack&&e.closeCallBack()})),g(this.node).delay(1.5).call((function(){e.node.destroy()})).start()}this._progress>=100&&(_.sendClosePageEvent("点击神秘礼盒页"),p.dispatch(h.SHAKE_COIN,10,new u(0,240,0)),this.node.destroy())},i.stopTween=function(){this._reduceProgressTween&&(this._reduceProgressTween.stop(),this._reduceProgressTween=null)},s}(d),r(B,"instance",void 0),v=s((w=P).prototype,"progressBar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=w))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/FBNode.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./FBSdk.ts"],(function(t){"use strict";var e,o,r,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,n=t.Component},function(t){c=t.FBSdk}],execute:function(){var u;o._RF.push({},"59ea42jz5lA24ToEPXwkI4D","FBNode",void 0);var s=r.ccclass;r.property,t("FBNode",s("FBNode")(u=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var r=o.prototype;return r.start=function(){},r.tryCreateShortcut=function(){c.tryCreateShortcutAsync()},o}(n))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/ColliderViewer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,n,o,l,s,c;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,n=e.find,o=e.Collider,l=e.BoxCollider,s=e.instantiate,c=e.Component}],execute:function(){var a;t._RF.push({},"5b744IPazNIrb4fDjyWR+f5","ColliderViewer",void 0);var u=i.ccclass;i.property,e("ColliderViewer",u("ColliderViewer")(a=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){var e=n("Cube");if(e)for(var r=this.getComponents(o),t=0;t<r.length;t++){var i=r[t];if(i.isValid&&i.enabled&&i instanceof l){var c=i,a=s(e);a.name=c.name,a.parent=this.node,a.position=c.center.clone(),a.scale=c.size.clone(),a.active=!0}}else console.error("没有找到Cube")},t}(c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/QtSdk.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ConvenientRequest.ts","./Utility.ts","./ApplicationHelper.ts"],(function(e){"use strict";var n,o,t,a,r,i,l,s,c;return{setters:[function(e){n=e.defineProperty,o=e.asyncToGenerator},function(e){t=e.cclegacy,a=e.sys,r=e.find},function(e){i=e.Config},function(e){l=e.ConvenientRequest},function(e){s=e.Utility},function(e){c=e.ApplicationHelper}],execute:function(){t._RF.push({},"5e6d88cfPdKD6HrI5SPswUX","QtSdk",void 0),window.wx=window.wx||null,window.tt=window.tt||null,window.bondSDK=window.bondSDK||null;var d=e("QtSdk",function(){function e(){}return e.isEditor=function(){return a.platform==a.Platform.EDITOR_PAGE},e.isDevtools=function(){var n;return"devtools"==(null===(n=e.getSystemInfoSync())||void 0===n?void 0:n.platform)},e.formatServerConfig=function(){for(var e in i.serverConfig){var n=i.serverConfig[e],o=Number(n);if(Number.isNaN(o)){try{n=JSON.parse(n)}catch(e){}i.serverConfig[e]=n}else i.serverConfig[e]=o}},e.login=function(n,o){void 0===o&&(o=!1),i.StartCurrentTime=l.time;var t=e.getLaunchOptionsSync();console.log("启动参数",t),e.platformInstance.login({force:o,success:function(o){if(console.log("登录成功",o),o.code||o.anonymousCode){var r=0;switch(a.platform){case a.Platform.BYTEDANCE_MINI_GAME:r=1;break;case a.Platform.WECHAT_GAME:r=2;break;case a.Platform.OPPO_MINI_GAME:r=3;break;case a.Platform.VIVO_MINI_GAME:r=4}l.login({code:o.code,query:t.query,anonymousCode:o.anonymousCode,extra:t,platform:r}).then((function(t){e.formatServerConfig(),console.log("获取配置成功",i.serverConfig),t.isLogin=o.isLogin,n(null,t)}),(function(e){n(e)}))}else n(o)},fail:function(e){n&&n(e)}})},e.getSystemInfoSync=function(){return e.platformInstance.getSystemInfoSync&&e.platformInstance.getSystemInfoSync()},e.callPlatformAPI=function(n,o){return void 0===o&&(o={}),console.log("callPlatformAPI",n,o),new Promise((function(t,a){o.resolve=t;var r=o.success;o.success=function(e){console.log(n,"success",e),o.resolve&&o.resolve(e),r&&r(e)};var i=o.fail;o.fail=function(t){console.error(n,"fail",t),o.resolve&&o.resolve(t),i&&i(t),t.errMsg.includes("video file is too short")&&e.showToast({title:"录屏时长低于 5 秒，无法分享"})},e.platformInstance[n]&&e.platformInstance[n](o)}))},e.getUserInfo=function(){var n=o(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===o&&(o={}),n.abrupt("return",e.callPlatformAPI("getUserInfo",o));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e.onShareAppMessage=function(n){void 0===n&&(n={});var o=e.getLaunchOptionsSync();e.platformInstance.onShareAppMessage&&e.platformInstance.onShareAppMessage((function(e){var t,a,r,i,s=Date.now()+String(Math.random()).substring(2),c=n.channel||e.channel;return"video"==c&&(n.query?n.query+="&DIYVideoId="+s:n.query="DIYVideoId="+s),console.log("onShareAppMessage",e,Date.now()),{channel:c,title:n.title,imageUrl:n.imageUrl,desc:n.desc,query:n.query,extra:{videoPath:null===(t=n.extra)||void 0===t?void 0:t.videoPath,videoOwner:null===(a=n.extra)||void 0===a?void 0:a.videoOwner,videoTopics:null===(r=n.extra)||void 0===r?void 0:r.videoTopics,hashtag_list:null===(i=n.extra)||void 0===i?void 0:i.hashtag_list,withVideoId:!0},success:function(e){var t;console.log("分享成功",e),l.uploadVideoInfo({Title:n.title,Desc:n.desc,VideoTopics:null===(t=n.extra)||void 0===t?void 0:t.videoTopics,VideoId:e.videoId,DIYVideoId:s,Vsuid:o.query.vsuid})},fail:function(e){console.error("分享失败",e)}}}))},e.shareAppMessage=function(n){return e.callPlatformAPI("shareAppMessage",n)},e.showShareMenu=function(){e.platformInstance.showShareMenu&&e.platformInstance.showShareMenu()},e.getLaunchOptionsSync=function(){return e.platformInstance.getLaunchOptionsSync?e.platformInstance.getLaunchOptionsSync():{}},e.setKeepScreenOn=function(){e.isDevtools()||e.platformInstance.setKeepScreenOn&&e.platformInstance.setKeepScreenOn({keepScreenOn:!0})},e.onShow=function(n){e.platformInstance.onShow&&e.platformInstance.onShow(n)},e.offShow=function(n){e.platformInstance.offShow&&e.platformInstance.offShow(n)},e.onHide=function(n){e.platformInstance.onHide&&e.platformInstance.onHide(n)},e.offHide=function(n){e.platformInstance.offHide&&e.platformInstance.offHide(n)},e.vibrateShort=function(){e.platformInstance.vibrateShort&&e.platformInstance.vibrateShort()},e.vibrateLong=function(){e.platformInstance.vibrateLong&&e.platformInstance.vibrateLong()},e.reportAnalytics=function(n,o){e.isDevtools()||e.platformInstance.reportAnalytics&&e.platformInstance.reportAnalytics(n,o)},e.showToast=function(n){e.platformInstance.showToast&&e.platformInstance.showToast(n)},e.showFavoriteGuide=function(){e.platformInstance.showFavoriteGuide&&e.platformInstance.showFavoriteGuide({type:"bar",content:"一键添加到我的小程序",position:"bottom",success:function(e){console.log("showFavoriteGuide",e)},fail:function(e){console.error("showFavoriteGuide",e)}})},e.navigateToVideoView=function(n){e.platformInstance.navigateToVideoView&&e.platformInstance.navigateToVideoView({videoId:n,success:function(e){console.log("navigateToVideoView",e)},fail:function(e){console.error("navigateToVideoView",e)}})},e.showMoreGamesModal=function(){e.platformInstance.showMoreGamesModal?e.platformInstance.showMoreGamesModal({appLaunchOptions:i.serverConfig.APPLAUNCHOPTIONS||[{appId:"ttb206c4bb2d3d7259",query:"",extraData:{}},{appId:"tt17f9614488c1aca602",query:"",extraData:{}}],success:function(e){console.log("showMoreGamesModal",e)},fail:function(e){console.error("showMoreGamesModal",e)}}):e.showToast({title:" 不支持此功能"})},e.openAwemeUserProfile=function(){e.platformInstance.openAwemeUserProfile?e.platformInstance.openAwemeUserProfile():e.showToast({title:" 不支持此功能"})},e.authorize=function(n){return void 0===n&&(n={}),n.scope=n.scope||"scope.userInfo",e.callPlatformAPI("authorize",n)},e.openSetting=function(n){return void 0===n&&(n={}),e.callPlatformAPI("openSetting",n)},e.chooseVideo=function(n){void 0===n&&(n={});var o={sourceType:["album"],compressed:!0,camera:"back",maxDuration:60};for(var t in o)n[t]||(n[t]=o[t]);return e.callPlatformAPI("chooseVideo",n)},e.startGameRecorder=function(n){var o=e.platformInstance.getGameRecorderManager&&e.platformInstance.getGameRecorderManager();if(o){e.recordManager=o;try{o.start(n)}catch(e){}return o.onStart((function(e){console.log("录屏开始："+e)})),o.onStop((function(e){i.videoPath=e.videoPath,console.log("录屏结束："),console.log(e)})),o.onError((function(e){console.log("录屏onError ："+e)})),o}},e.stopGameRecorder=function(){var n;null===(n=e.recordManager)||void 0===n||n.stop()},e.gameStart=function(){i.CurrentTime=l.time,console.warn("开始闯关",i.CurrentLevel),l.level({ID:i.CurrentLevel,Type:1,Sec:0})},e.gameSuccess=function(){var e=l.time-i.CurrentTime;console.warn("闯关成功",i.CurrentLevel,e),l.level({ID:i.CurrentLevel,Type:2,Sec:e})},e.gameFailure=function(){var e=l.time-i.CurrentTime;console.warn("闯关失败",i.CurrentLevel,e),l.level({ID:i.CurrentLevel,Type:3,Sec:e})},e.playEnterGameVideoAd=function(n,o){if(e.enterGameVideoAdPlayed)o();else{var t=0;if(i.serverConfig.AD_MAIN_POP_SWITCH){e.enterGameVideoAdPlayed=!0,e.sendEvent("QAd_Event",{Level:0});var a=function a(){++t>=i.serverConfig.AD_MAIN_POP_SWITCH?o():e.playVideoAd(n,a,a)};e.playVideoAd(n,a,a)}}},e.playLevelEndVideoAd=function(n,o){if(i.serverConfig.AD_VIDEO_SHOW_AU&&i.getLevelSwitch("AD_VIDEO_SHOW_AU_LEVEL")){e.sendEvent("QAd_Event",{Level:i.CurrentLevel});var t=0,a=function a(){++t>=i.serverConfig.AD_VIDEO_SHOW_AU?o():e.playVideoAd(n,a,a,a)};e.playVideoAd(n,a,a,a)}else o()},e.playVideoAd=function(){var n=o(regeneratorRuntime.mark((function n(o,t,a,l){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.serverConfig.INTERSTITIAL_FRONT_VIDEO_SWITCH||!i.getLevelSwitch("INTERSTITIAL_FRONT_VIDEO_LEVEL")){n.next=4;break}return e.createInterstitialAd(),n.next=4,s.waitForSeconds(.5);case 4:l||(l=t),e.createRewardedVideoAd(o,(function(){}),(function(e){l&&l()}),(function(e){e.isEnded?t&&t():(c.showVideoADCloseTip(r("Canvas"),o,t),a&&a())}));case 6:case"end":return n.stop()}}),n)})));return function(e,o,t,a){return n.apply(this,arguments)}}(),e.hideAd=function(n){if(void 0===n&&(n=""),n&&e.ads[n])return e.ads[n].hidden=!0,void e.ads[n].hide();for(var o in e.ads)e.ads[o].hidden=!0,e.ads[o].hide&&e.ads[o].hide()},e.createBannerAd=function(n,o,t,a){if(void 0===o&&(o=null),void 0===t&&(t=null),void 0===a&&(a=null),e.platformInstance.createBannerAd){var r=n.adUnitId||i.BannerIds[s.random(0,i.BannerIds.length-1)],c=e.ads[r];if(c)return c.loadCallback=o,c.errorCallback=t,c.closeCallback=a,c.hidden=!1,c.load&&c.load(),c;n.adUnitId=r,n.adIntervals=n.adIntervals||i.serverConfig.BANNER_REFRESH_TIME;var d=e.getSystemInfoSync(),u=d.screenWidth,f=d.screenHeight,v={left:u/2-100,width:200,top:f/u>2?f-125:f-105};return u<f&&(v={left:0,top:f-.35*u,width:u}),n.style=n.style||v,console.log("创建banner",n),(c=e.platformInstance.createBannerAd(n)).loadCallback=o,c.errorCallback=t,c.closeCallback=a,c.onLoad((function(e){l.loadBannerAd(r),console.log("banner广告加载成功",e),!c.hidden&&c.show().then((function(){c.hidden?c.hide():l.displayBannerAd(r)})),c.loadCallback&&c.loadCallback(e)})),c.onError((function(e){console.error("banner广告错误",e),l.errorBannerAd(r,e),c.errorCallback&&c.errorCallback(e)})),c.onClose&&c.onClose((function(){console.log("banner广告关闭"),c.closeCallback&&c.closeCallback()})),c.hidden=!1,c.load&&c.load(),e.ads[r]=c,c}},e.showBannerAd=function(n,o,t,a){void 0===n&&(n=""),void 0===o&&(o=null),void 0===t&&(t=null),void 0===a&&(a=null);var r=e.createBannerAd({adUnitId:n},o,t,a);null==r||r.show()},e.hideBannerAd=function(n){void 0===n&&(n=""),e.hideAd(n)},e.createCustomAd=function(n,o,t,a){if(void 0===o&&(o=null),void 0===t&&(t=null),void 0===a&&(a=null),e.platformInstance.createCustomAd){var r=n.adUnitId||i.CustomIds[s.random(0,i.CustomIds.length-1)],l=e.ads[r];if(l)return l.loadCallback=o,l.errorCallback=t,l.closeCallback=a,l.hidden=!1,l.load&&l.load(),l;n.adUnitId=r,n.adIntervals=n.adIntervals||i.serverConfig.BANNER_REFRESH_TIME;var c=e.getSystemInfoSync(),d=c.screenWidth,u={left:10,top:c.screenHeight-.35*d,fixed:!0};return n.style=n.style||u,console.log("创建原生模板广告",n),(l=e.platformInstance.createCustomAd(n)).loadCallback=o,l.errorCallback=t,l.closeCallback=a,l.onLoad((function(e){console.log("原生模板广告加载成功",e),!l.hidden&&l.show().then((function(){l.hidden&&l.hide()})),l.loadCallback&&l.loadCallback(e)})),l.onError((function(e){console.error("原生模板广告错误",e),l.errorCallback&&l.errorCallback(e)})),l.onClose&&l.onClose((function(){console.log("原生模板广告关闭"),l.closeCallback&&l.closeCallback()})),l.hidden=!1,l.load&&l.load(),e.ads[r]=l,l}},e.showCustomAd=function(n,o,t,a){void 0===n&&(n=""),void 0===o&&(o=null),void 0===t&&(t=null),void 0===a&&(a=null);var r=e.createCustomAd({adUnitId:n},o,t,a);null==r||r.show()},e.hideCustomAd=function(n){void 0===n&&(n=""),e.hideAd(n)},e.createRewardedVideoAd=function(){var n=o(regeneratorRuntime.mark((function n(o,t,a,r){var c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===o&&(o=""),void 0===t&&(t=null),void 0===a&&(a=null),void 0===r&&(r=null),e.platformInstance.createRewardedVideoAd){n.next=7;break}return r&&r({isEnded:!1}),n.abrupt("return",null);case 7:return o=o||i.VideoIds[s.random(0,i.VideoIds.length-1)],console.log("创建视频广告",o),l.createVideoAd(o),(c=e.ads[o])||((c=e.platformInstance.createRewardedVideoAd({adUnitId:o})).onLoad((function(e){l.loadVideoAd(o),console.log("视频广告加载成功",e),c.loadCallback&&c.loadCallback(e)})),c.onError((function(n){console.error("视频广告错误",n),e.playingVideoAd=!1,l.errorVideoAd(o,n),c.errorCallback&&c.errorCallback(n)})),c.onClose((function(n){console.log("视频广告关闭"),e.playingVideoAd=!1,n.isEnded&&l.watchVideoAd(o),c.closeCallback&&c.closeCallback(n)})),e.ads[o]=c),c.loadCallback=t,c.errorCallback=a,c.closeCallback=r,n.next=17,c.load();case 17:return n.next=19,c.show();case 19:return e.playingVideoAd=!0,l.displayVideoAd(o),n.abrupt("return",c);case 22:case"end":return n.stop()}}),n)})));return function(e,o,t,a){return n.apply(this,arguments)}}(),e.createInterstitialAd=function(n,o,t,a){if(void 0===n&&(n=""),void 0===o&&(o=null),void 0===t&&(t=null),void 0===a&&(a=null),e.platformInstance.createInterstitialAd&&(n=n||i.InterstitialIds[s.random(0,i.InterstitialIds.length-1)],console.log("创建插屏广告",n),!tt||!e.isDevtools())){l.createInterstitialAd(n);var r=e.platformInstance.createInterstitialAd({adUnitId:n});return r.onLoad((function(e){l.loadInterstitialAd(n),console.log("插屏广告加载成功",e),o&&o(e)})),r.onError((function(e){console.error("插屏广告错误",e),r.offClose(),r.offError(),r.offLoad(),l.errorInterstitialAd(n,e),t&&t(e)})),r.onClose((function(){console.log("插屏广告关闭"),r.offClose(),r.offError(),r.offLoad(),a&&a()})),r.show().then((function(){l.displayInterstitialAd(n)})),r}},e.sendEvent=function(n,o){if(console.warn("事件名称",n,"事件对象",o),"Open_Page"==n)i.Page_Name=o.Page_Name,e.pageNames.push(i.Page_Name);else if("Close_Page"==n||"Exit_Page"==n){var t=e.pageNames.pop();o.Page_Name!=t&&console.error("ext.Page_Name != lastPageName",o.Page_Name,t),i.Page_Name=e.pageNames[e.pageNames.length-1]}i.serverConfig.QTSDK_EVENT_UPLOAD&&(l.sendEvent(n,o),e.reportAnalytics(n,o)),i.serverConfig.EVENT_DEBUG&&console.warn("SendEvent name =",n,"param =",o)},e.sendClickEvent=function(n){e.sendEvent("Click_Event",{Page_Name:i.Page_Name,Element_Name:n,Level:i.CurrentLevel})},e.sendOpenPageEvent=function(n){e.sendEvent("Open_Page",{Page_Name:n,Level:i.CurrentLevel})},e.sendClosePageEvent=function(n){e.sendEvent("Close_Page",{Page_Name:n,Level:i.CurrentLevel})},e.start=function(){var n;e.setKeepScreenOn(),null===(n=bondSDK)||void 0===n||n.start()},e.showMainMenu=function(){var e;null===(e=bondSDK)||void 0===e||e.showMainMenu({x:600,y:-25,isShowCouplet:!0,coupletNum:8,drawerBtnYPos:250})},e.hideMainMenu=function(){var e;null===(e=bondSDK)||void 0===e||e.hideMainMenu()},e.startGame=function(e){bondSDK?bondSDK.startGame(e):e()},e.endGame=function(e){bondSDK?bondSDK.endGame(e):e()},e.showRevive=function(e){if(bondSDK){var n={x:0,y:-100,success:function(){e()}};bondSDK.showRevive(n)}else e()},e.hideRevive=function(){var e;null===(e=bondSDK)||void 0===e||e.hideRevive()},e.showSettlement=function(e){if(bondSDK){var n={x:0,y:-20,heightPercent:.85,success:function(){e&&e()}};bondSDK.showSettlement(n)}else e&&e()},e.hideSettlement=function(){var e;null===(e=bondSDK)||void 0===e||e.hideSettlement()},e.crazyClickInterface=function(e){bondSDK&&bondSDK.crazyClickInterface((function(){e&&e()}))},e}());n(d,"platformInstance",null),n(d,"_staticConstructor",function(){switch(a.platform){case a.Platform.BYTEDANCE_MINI_GAME:d.platformInstance=tt;break;case a.Platform.WECHAT_GAME:d.platformInstance=wx;break;default:d.platformInstance={login:function(e){e.success({anonymousCode:"132b1eef-3c85-46a9-aaae-8edde1d467e0"})}}}d.onHide((function(e){console.log("onHide",e,i.Page_Name),d.playingVideoAd&&"iOS"!=a.os&&l.clickVideoAd(i.VideoIds[0]),d.sendEvent("Exit_Game",{Page_Name:i.Page_Name,Level:i.CurrentLevel}),l.exit()})),d.onShow((function(e){console.log("onShow",e,i.Page_Name)}))}()),n(d,"recordManager",null),n(d,"enterGameVideoAdPlayed",!1),n(d,"ads",{}),n(d,"playingVideoAd",!1),n(d,"pageNames",[]),t._RF.pop()}}}));

System.register("chunks:///_virtual/Pathway.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Utility.ts","./QtSdk.ts"],(function(t){"use strict";var e,n,r,i,o,a,s,c,u,l,p,d,f,h,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.defineProperty,a=t.asyncToGenerator},function(t){s=t.cclegacy,c=t._decorator,u=t.Component,l=t.MeshRenderer,p=t.Vec3,d=t.tween},function(t){f=t.AudioManager},function(t){h=t.Utility},function(t){w=t.QtSdk}],execute:function(){var b,y,P;s._RF.push({},"60ebbdWgIdNfrRA0YMA1uQN","Pathway",void 0);var g=c.ccclass,k=c.property;t("Pathway",g("Pathway")((P=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,r(i(e),"win",P,i(e)),o(i(e),"points",[]),e}n(e,t);var s=e.prototype;return s.start=function(){this.points=this.node.getChildByPath("mubang").children},s.update=function(t){},s.forward=function(){var t=a(regeneratorRuntime.mark((function t(e,n,r){var i,o,a,s,c,u,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.getMaterial(),o=e.worldPosition.clone(),a=e.worldRotation.clone(),s=0;case 4:if(!(s<this.points.length)){t.next=29;break}return c=this.points[s],f.playSound(f.Instance.setMine1),n.isPlayer&&w.vibrateShort(),u=.05*p.distance(e.worldPosition,c.worldPosition),d(e).to(u,{worldPosition:c.worldPosition}).start(),t.next=12,h.tweenToRotation(e,c.worldRotation,u);case 12:if((b=c.getComponentInChildren(l)).material!=i){t.next=15;break}return t.abrupt("continue",26);case 15:if(!(n.brickNumber>=1)){t.next=23;break}if(n.removeBrick(),b.material=i,s!=this.points.length-1){t.next=21;break}return r(this.win,!1),t.abrupt("return");case 21:t.next=26;break;case 23:return t.next=25,this.back(e,s,o,a,r);case 25:return t.abrupt("break",29);case 26:s++,t.next=4;break;case 29:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),s.back=function(){var t=a(regeneratorRuntime.mark((function t(e,n,r,i,o){var a,s,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n;case 1:if(!(a>=0)){t.next=10;break}return s=this.points[a],c=.05*p.distance(e.worldPosition,s.worldPosition),d(e).to(c,{worldPosition:s.worldPosition}).start(),t.next=7,h.tweenToRotation(e,s.worldRotation,c);case 7:a--,t.next=1;break;case 10:return u=.05*p.distance(e.worldPosition,r),d(e).to(u,{worldPosition:r}).start(),t.next=14,h.tweenToRotation(e,i,u);case 14:o(!1,!0);case 15:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),e}(u)).prototype,"win",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=y))||b);s._RF.pop()}}}));

System.register("chunks:///_virtual/FinishLine.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Group.ts"],(function(e){"use strict";var t,r,i,n,o,s,u,p,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,u=e.Collider,p=e.Component},function(e){a=e.Group}],execute:function(){var c,l,h,f,y;o._RF.push({},"6358eHuCbpFzpCe/j7e2qst","FinishLine",void 0);var g=s.ccclass,d=s.property;e("FinishLine",(c=g("FinishLine"),l=d({type:a}),c((y=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(n(t),"group",y,n(t)),t}return r(t,e),t.prototype.start=function(){var e=this.node.getComponent(u);null==e||e.setGroup(this.group),null==e||e.setMask(a.Player)},t}(p)).prototype,"group",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.WinArea}}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalEnum.ts",["cc"],(function(e){"use strict";var n,t,o;return{setters:[function(e){n=e.cclegacy,t=e._decorator,o=e.Enum}],execute:function(){e("Status",void 0),n._RF.push({},"6704a/YmMVIw62uETZY9oEP","GlobalEnum",void 0);var i;t.ccclass,t.property;!function(e){e.None="None",e.Ready="Ready",e.Idle="Idle",e.Run="Run",e.Mining="Mining",e.Driving="Driving",e.Lose="Lose",e.Win="Win",e.Run2finishingPoint="Run2finishingPoint",e.Down="Down",e.Weakup="Weakup"}(i||(i=e("Status",{}))),o(i);e("Notify",{startNextLevel:"startNextLevel",startGame:"startGame",gameLose:"gameLose",winTheGame:"winTheGame",gameEnd:"gameEnd",getCoin:"getCoin",readyShowScore:"readyShowScore",receiveDiamonds:"receiveDiamonds",enterGameScene:"enterGameScene",showCarzyView:"showCarzyView",touchEndPos:"touchEndPos",SHAKE_COIN:"SHAKE_COIN",resetPlayerPos:"resetPlayerPos"});n._RF.pop()}}}));

System.register("chunks:///_virtual/Car.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Group.ts","./Map.ts"],(function(r){"use strict";var t,n,e,i,o,a,c;return{setters:[function(r){t=r.defineProperty,n=r.inheritsLoose,e=r.assertThisInitialized},function(r){i=r.cclegacy,o=r._decorator},function(r){a=r.Group},function(r){c=r.Map}],execute:function(){var s,u,l;i._RF.push({},"682c9S/JQlGa4dQzSE9Mxb0","Car",void 0);var p=o.ccclass;o.property,r("Car",p("Car")((l=u=function(r){function i(){for(var n,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r.call.apply(r,[this].concat(o))||this,t(e(n),"group",a.Car),n}n(i,r);var o=i.prototype;return o.onEnable=function(){i.cars[this.uuid]=this},o.onDisable=function(){delete i.cars[this.uuid]},i}(c),t(u,"cars",{}),s=l))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/SettlementPage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./QtSdk.ts"],(function(e){"use strict";var t,n,o,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component},function(e){s=e.QtSdk}],execute:function(){var c;n._RF.push({},"72d72s0P3tFcKUDhuVJzwHJ","SettlementPage",void 0);var u=o.ccclass;o.property,e("SettlementPage",u("SettlementPage")(c=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onEnable=function(){s.sendOpenPageEvent("结算页面")},o.onDisable=function(){s.sendClosePageEvent("结算页面")},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Joystick.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,o,n,s,r,c,a,p,u,l,h,y,d,T,g,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,c=t.EventTarget,a=t.Node,p=t.Enum,u=t.Vec2,l=t.CCInteger,h=t.UITransform,y=t.Size,d=t.UIOpacity,T=t.SystemEventType,g=t.Vec3,f=t.Component}],execute:function(){var E,v,m,_,L,C,b,S,O,I,D,k,w,P,F;t({DirectionType:void 0,JoystickType:void 0,SpeedType:void 0}),s._RF.push({},"73162lxt5BLxbtr/vpxLfXd","Joystick",void 0);var N,A,U,z=r.ccclass,J=r.property,R=t("instance",new c),M=t("SET_JOYSTICK_TYPE","SET_JOYSTICK_TYPE");!function(t){t[t.FOUR=0]="FOUR",t[t.EIGHT=1]="EIGHT",t[t.ALL=2]="ALL"}(N||(N=t("DirectionType",{}))),function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.FAST=2]="FAST"}(A||(A=t("SpeedType",{}))),function(t){t[t.FIXED=0]="FIXED",t[t.FOLLOW=1]="FOLLOW",t[t.DYNAMIC=2]="DYNAMIC"}(U||(U=t("JoystickType",{})));t("Joystick",(E=z("Joystick"),v=J({type:a,displayName:"Dot",tooltip:"摇杆操纵点"}),m=J({type:a,displayName:"Ring",tooltip:"摇杆背景节点"}),_=J({type:p(U),displayName:"Touch Type",tooltip:"触摸类型"}),L=J({type:p(N),displayName:"Direction Type",tooltip:"方向类型"}),C=J({type:u,tooltip:"触摸位置"}),b=J({type:l,displayName:"Ring Radius",tooltip:"半径"}),E((I=i((O=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,o(n(i),"dot",I,n(i)),o(n(i),"ring",D,n(i)),o(n(i),"joystickType",k,n(i)),o(n(i),"directionType",w,n(i)),o(n(i),"_touchLocation",P,n(i)),o(n(i),"radius",F,n(i)),i}e(i,t);var s=i.prototype;return s.onLoad=function(){var t;if(this.dot)if(this.ring){var i=this.ring.getComponent(h),e=2*this.radius,o=new y(e,e);null==i||i.setContentSize(o),null===(t=this.ring.getChildByName("bg").getComponent(h))||void 0===t||t.setContentSize(o),this._initTouchEvent();var n=this.node.getComponent(d);this.joystickType!=U.FIXED&&n&&(n.opacity=0)}else console.warn("Joystick Ring is null!");else console.warn("Joystick Dot is null!")},s.onEnable=function(){R.on(M,this._onSetJoystickType,this)},s.onDisable=function(){R.off(M,this._onSetJoystickType,this)},s._onSetJoystickType=function(t){this.joystickType=t;var i=this.node.getComponent(d);i&&(i.opacity=t===U.FIXED?255:0)},s._initTouchEvent=function(){this.node.on(T.TOUCH_START,this._touchStartEvent,this),this.node.on(T.TOUCH_MOVE,this._touchMoveEvent,this),this.node.on(T.TOUCH_END,this._touchEndEvent,this),this.node.on(T.TOUCH_CANCEL,this._touchEndEvent,this)},s._touchStartEvent=function(t){if(this.ring&&this.dot){R.emit(T.TOUCH_START,t);var i=t.getUILocation(),e=new g(i.x,i.y);if(this.joystickType===U.FIXED){var o=e.subtract(this.ring.getPosition()),n=o.length();this.radius>n&&this.dot.setPosition(o)}else this.node.getComponent(d).opacity=255,this._touchLocation=t.getUILocation(),this.ring.setPosition(e),this.dot.setPosition(new g)}},s._touchMoveEvent=function(t){if(this.dot&&this.ring){if(this.joystickType!=U.FIXED&&this._touchLocation===t.getUILocation())return!1;var i=t.getUILocation(),e=new g(i.x,i.y).subtract(this.ring.getPosition()),o=e.length();this.joystickType==U.DYNAMIC&&o>this.radius&&this.ring.setPosition(this.ring.getPosition().add(e.clone().normalize().multiplyScalar(o-this.radius))),this.radius>o?this.dot.setPosition(e):this.dot.setPosition(e.clone().normalize().multiplyScalar(this.radius)),R.emit(T.TOUCH_MOVE,t,{moveVec:e.clone(),speedType:A.NORMAL})}},s._touchEndEvent=function(t){this.dot&&this.ring&&(this.dot.setPosition(new g),this.joystickType!=U.FIXED&&(this.node.getComponent(d).opacity=0),R.emit(T.TOUCH_END,t,{moveVec:new g,speedType:A.STOP}))},i}(f)).prototype,"dot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(O.prototype,"ring",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(O.prototype,"joystickType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.FIXED}}),w=i(O.prototype,"directionType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.ALL}}),P=i(O.prototype,"_touchLocation",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),F=i(O.prototype,"radius",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),S=O))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/HttpState.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"78b4bZCPl1G56RymvdZAfoN","HttpState",void 0);t("default",{200:"请求被正确处理并返回了结果",201:"新增或修改数据成功",202:"请求已进入任务队列，被异步处理",203:"令牌或登录状态失效",204:"删除数据成功",301:"请求的资源被永久重定向到新的位置，将从新的地址重新请求",302:"请求的资源被临时重定向到新的位置",400:"请求参数错误，服务器没有对数据做新建或修改",401:"无访问权限，用户名、密码、令牌错误",403:"得到访问授权，但访问是被禁止",404:"访问的是不存在的资源",405:"请求方式不正确",406:"请求的数据格式不是服务接收的类型",410:"请求的资源被永久删除",422:"服务器创建对象时发生错误",500:"服务器不可用，未返回正确的数据",502:"服务器网关错误",503:"服务器过载或维护中",504:"服务器响应超时"});e._RF.pop()}}}));

System.register("chunks:///_virtual/ApplicationHelper.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ConvenientRequest.ts","./CrazyClick.ts","./Hover.ts","./Treasure.ts","./videoADCloseTip.ts","./QtSdk.ts"],(function(e){"use strict";var n,t,r,i,o,a,s,u,c,l,d,p,f,v,C,h,g,y,T,b,_,m;return{setters:[function(e){n=e.defineProperty,t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator},function(e){s=e.cclegacy,u=e._decorator,c=e.Prefab,l=e.game,d=e.sys,p=e.instantiate,f=e.SystemEventType,v=e.find,C=e.Component},function(e){h=e.Config},function(e){g=e.ConvenientRequest},function(e){y=e.CrazyClick},function(e){T=e.Hover},function(e){b=e.Treasure},function(e){_=e.VideoADCloseTip},function(e){m=e.QtSdk}],execute:function(){var A,D,I,P,S,w,k,E,H,V,R,x,z,L,M,N,O;s._RF.push({},"8242fm58qFHF5CKvHv+/eZy","ApplicationHelper",void 0);var U=u.ccclass,G=u.property;e("ApplicationHelper",(A=U("ApplicationHelper"),D=G(c),I=G(c),P=G(c),S=G(c),w=G(c),k=G(c),A((O=N=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(o(n),"exitPanel",V,o(n)),i(o(n),"hoverPanel",R,o(n)),i(o(n),"reasure",x,o(n)),i(o(n),"crazyClick",z,o(n)),i(o(n),"videoADCloseTip",L,o(n)),i(o(n),"shareVideoPrefab",M,o(n)),n}return r(n,e),n.prototype.onLoad=function(){n.instance?this.node.destroy():(l.addPersistRootNode(this.node),n.instance=this)},n.addExitPanel=function(e){if(bondSDK||!n.instance||!h.serverConfig.AD_MAIN_CLOSE_SWITCH)return!1;if(d.platform!=d.Platform.BYTEDANCE_MINI_GAME||d.os!=d.OS_ANDROID)return!1;var t=p(n.instance.exitPanel);return t.parent=e,l.addPersistRootNode(t),t.on(f.TOUCH_START,(function(){m.sendClickEvent("互跳盒子_退出样式"),m.showMoreGamesModal()}),this),!0},n.addHoverPanel=function(e,t){return!(bondSDK||!n.instance||!h.serverConfig.AD_GIFT_TIPS_SWITCH)&&(!T.instance&&(setTimeout((function(){p(n.instance.hoverPanel).parent=t}),1e3*h.serverConfig.AD_GIFT_TIPS_DELAY_SEC),!0))},n.showTreasure=function(e,t){var r=p(n.instance.reasure);return r.parent=e,r.getComponent(b).closeCallBack=t,!0},n.showCrazyClick=function(e,t){if(void 0===t&&(t=null),bondSDK||!n.instance||!h.serverConfig.CRAZY_CLICK_PAGE_SWITCH||!h.getLevelSwitch("CRAZY_CLICK_PAGE_LEVEL"))return!1;var r=p(n.instance.crazyClick);return r.parent=e,r.getComponent(y).closeCallBack=t,!0},n.showVideoADCloseTip=function(e,t,r){if(bondSDK||!h.serverConfig.AD_BOX_ALERT_SWITCH)return!1;var i=p(n.instance.videoADCloseTip);return i.parent=e,i.getComponent(_).show(t,r),!0},n.addShareVideoButton=function(e,t){var r;if(e){var i=m.getLaunchOptionsSync();if(null===(r=i.query)||void 0===r?void 0:r.vsuid){var o=p(n.instance.shareVideoPrefab);o.parent=t||v("Canvas"),o.on(f.TOUCH_END,a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.active=!1;case 1:case"end":return e.stop()}}),e)}))));var s=!1,u=Date.now()+String(Math.random()).substring(2),c={channel:"video",title:e,desc:e,imageUrl:"",templateId:"",query:"DIYVideoId="+u,extra:{videoPath:"",videoOwner:h.USER_UID,videoTopics:[e],hashtag_list:[e],withVideoId:!0},success:function(e){o.active=!1,g.uploadVideoInfo({Title:c.title,Desc:c.desc,VideoTopics:c.extra.videoTopics,VideoId:e.videoId,DIYVideoId:u,Vsuid:i.query.vsuid})},fail:function(e){s=!1,m.showToast({title:"分享失败，请重试"})}};o.children[0].on(f.TOUCH_END,a(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getUserInfo();case 2:if(!(n=e.sent).errMsg.includes("not login")){e.next=6;break}return m.showToast({title:"请先登录"}),e.abrupt("return");case 6:if(t=n.userInfo){e.next=13;break}return e.next=10,m.authorize();case 10:return e.sent.errMsg.includes("auth deny")&&m.openSetting(),e.abrupt("return");case 13:if(g.uploadVsInfo({AvatarUrl:t.avatarUrl,NickName:t.nickName,Gender:t.gender,City:t.city,Province:t.province,Country:t.country,Vsuid:i.query.vsuid}),!s){e.next=17;break}return m.shareAppMessage(c),e.abrupt("return");case 17:m.chooseVideo({success:function(e){e.duration<5?m.showToast({title:"视频时长不能小于5秒"}):(s=!0,c.extra.videoPath=e.tempFilePath,"Android"==d.os?m.showToast({title:"再次点击按钮即可分享"}):m.shareAppMessage(c))},fail:function(e){e.errMsg.includes("auth deny")&&m.openSetting()}});case 18:case"end":return e.stop()}}),e)}))),this)}}else console.error("游戏名称参数不能为空")},n}(C),n(N,"instance",void 0),V=t((H=O).prototype,"exitPanel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(H.prototype,"hoverPanel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(H.prototype,"reasure",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(H.prototype,"crazyClick",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(H.prototype,"videoADCloseTip",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(H.prototype,"shareVideoPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=H))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/Map.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Group.ts","./Utility.ts","./QtSdk.ts"],(function(t){"use strict";var e,n,r,o,i,s,a,c,p,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,a=t.Collider,c=t.Component},function(t){p=t.Group},function(t){u=t.Utility},function(t){l=t.QtSdk}],execute:function(){var f,y,d,g,h;i._RF.push({},"8a165s0gKBL847NWnoukON7","Map",void 0);var m=s.ccclass,v=s.property;t("Map",(f=m("Map"),y=v({type:p}),f((h=e((g=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,r(o(e),"group",h,o(e)),e}return n(e,t),e.prototype.start=function(){for(var t=this.node.getComponents(a).concat(this.node.getComponentsInChildren(a)),n=0;n<t.length;n++)if(!l.isEditor()){var r=t[n];u.getComponentInParent(r.node,e)==this&&(r.setGroup(this.group),r.setMask(p.Player|p.RedEnemy|p.BlueEnemy|p.Brick))}},e}(c)).prototype,"group",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.Obstacle}}),d=g))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/castle.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,o,s,i,n,l,a,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.defineProperty},function(e){n=e.cclegacy,l=e._decorator,a=e.Collider,c=e.MeshRenderer,u=e.Component}],execute:function(){var g,d,h,p,f;n._RF.push({},"8a7c90pI0NCf7RQBXBKxCrI","castle",void 0);var P=l.ccclass,y=l.property,C=(l.executeInEditMode,"CastleKEY");e("Castle",(g=P("Castle"),d=y({type:a}),g((f=r((p=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return r=e.call.apply(e,[this].concat(n))||this,o(s(r),"boxCollider",f,s(r)),i(s(r),"curProgress",0),r}t(r,e);var n=r.prototype;return n.onLoad=function(){this.curProgress=localStorage.getItem(C)?parseFloat(localStorage.getItem(C)):0},n.start=function(){this.setProgress(this.curProgress)},n.setProgress=function(e){var r=this.node.worldPosition.y,t=this.boxCollider.size.z*this.boxCollider.node.worldScale.z,o=this.node.getComponentsInChildren(c),s=r+t*e;this.curProgress=e,localStorage.setItem(C,e.toString());for(var i=0;i<o.length;i++)for(var n=o[i].materials,l=0;l<n.length;l++){n[l].setProperty("showPercentage",s)}},n.addPrecent=function(e){return void 0===e&&(e=1),this.curProgress+=e/60,this.setProgress(this.curProgress),this.curProgress},r}(u)).prototype,"boxCollider",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/Hover.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./Config.ts","./QtSdk.ts"],(function(e){"use strict";var t,n,o,i,r,s,c,a,l,u,f,d,h,p,v;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,a=e.RichText,l=e.Widget,u=e.Vec3,f=e.tween,d=e.Component},function(e){h=e.EventBus},function(e){p=e.Config},function(e){v=e.QtSdk}],execute:function(){var y,g,C,D,T,_,I;s._RF.push({},"91f7as7h6NL25XK20z7E3+g","Hover",void 0);var m=c.ccclass,w=c.property;e("Hover",(y=m("Hover"),g=w(a),y((I=_=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"title",T,r(t)),t}o(t,e);var n=t.prototype;return n.onLoad=function(){var e=this;if(t.instance)this.node.destroy();else{t.instance=this;var n=p.serverConfig.AD_GIFT_TIPS;this.title.string="<color=#ff0000>"+n+"</color> 秒后自动领取神秘礼盒",this.node.getComponent(l).enabled=!1;var o=this.node.scale.clone();this.node.scale=new u(0,0,1),f(this.node).to(.5,{scale:o},{onComplete:function(){f(e.node).delay(1).call((function(){n--,e.title.string="<color=#ff0000>"+n+"</color> 秒后自动领取神秘礼盒",0==n&&v.playVideoAd(p.VideoIds[0],(function(){h.dispatch(p.SHAKE_COIN,200,new u(0,60,0)),e.scaleThenDestroy()}),(function(){e.scaleThenDestroy()}))})).union().repeat(p.serverConfig.AD_GIFT_TIPS).start()}}).start()}},n.onDestroy=function(){},n.close=function(){v.sendClickEvent("取消按钮"),this.scaleThenDestroy()},n.scaleThenDestroy=function(){var e=this;t.instance&&f(this.node).to(.5,{scale:new u(0,0,0)},{onComplete:function(){t.instance=null,e.node.destroy()}}).start()},t}(d),t(_,"instance",void 0),T=n((D=I).prototype,"title",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=D))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/Mine.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Group.ts","./Utility.ts","./Map.ts","./Brick.ts","./Man.ts","./particleMamager.ts"],(function(e){"use strict";var t,i,n,r,o,a,s,c,l,u,p,d,h,f,v,g,b,B,y,k,m;return{setters:[function(e){t=e.defineProperty,i=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.assertThisInitialized,o=e.initializerDefineProperty,a=e.asyncToGenerator},function(e){s=e.cclegacy,c=e._decorator,l=e.randomRange,u=e.tween,p=e.Vec3,d=e.RigidBody,h=e.ERigidBodyType,f=e.randomRangeInt},function(e){v=e.ColorGroup,g=e.Group},function(e){b=e.Utility},function(e){B=e.Map},function(e){y=e.Brick},function(e){k=e.Man},function(e){m=e.ParticleMamager}],execute:function(){var C,M,R,P,w,x,S;s._RF.push({},"98721BQb79Lz6mH4d4Vss6R","Mine",void 0);var G=c.ccclass,N=c.property;e("Mine",(C=G("Mine"),M=N({type:v}),C((S=x=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return i=e.call.apply(e,[this].concat(a))||this,t(r(i),"group",g.Mine),t(r(i),"digCount",0),t(r(i),"bricks",null),o(r(i),"colorGroup",w,r(i)),i}n(i,e);var s=i.prototype;return s.start=function(){e.prototype.start.call(this),this.node.getChildByPath("挖过一次").active=!1,this.bricks=this.node.getChildByPath("砖块").children;for(var t=0;t<this.bricks.length;t++)this.bricks[t].active=!1},s.onEnable=function(){i.mines[this.uuid]=this},s.onDisable=function(){delete i.mines[this.uuid]},s.reborn=function(){var e=a(regeneratorRuntime.mark((function e(){var t,i,n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,b.waitForSeconds(f(8,16));case 3:if(this.node&&this.node.isValid){e.next=5;break}return e.abrupt("return");case 5:t=!0,i=0;case 7:if(!(i<this.bricks.length)){e.next=14;break}if(!this.bricks[i].active){e.next=11;break}return t=!1,e.abrupt("break",14);case 11:i++,e.next=7;break;case 14:if(!t){e.next=24;break}e.t0=regeneratorRuntime.keys(k.mans);case 16:if((e.t1=e.t0()).done){e.next=24;break}if(n=e.t1.value,r=k.mans[n],!(p.distance(this.node.worldPosition,r.node.worldPosition)<5)){e.next=22;break}return t=!1,e.abrupt("break",24);case 22:e.next=16;break;case 24:if(!t){e.next=26;break}return e.abrupt("break",28);case 26:e.next=0;break;case 28:this.digCount=0,o=this.node.children[0],a=o.worldScale.clone(),o.active=!0,o.setWorldScale(.01,.01,.01),u(o).to(.4,{worldScale:a}).start();case 34:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.createBricks=function(e){for(var t=this,i=function(e){var i=t.bricks[e];i.active=!0;var n=i.getComponentInChildren(d);n.type=h.DYNAMIC,n.applyImpulse(new p(2*(Math.random()-.5),10*Math.random(),2*(Math.random()-.5)));var r=i.getChildByPath("RootNode/MinePickup/tuowei");setTimeout((function(){var e,n=null===(e=k.getManByColor(t.colorGroup))||void 0===e?void 0:e.node;if(n){var r=n.getChildByPath("human/RootNode/Bip001/Bip001 Pelvis/Bip001 Spine/Bip001 Spine1/Bip001 Neck/Bip001 R Clavicle/Bip001 R UpperArm/Bip001 R Forearm");i.getComponent(y).targetNode=r}}),1e3),r.active=!0,setTimeout((function(){var e;r.active=!1;var n=null===(e=k.getManByColor(t.colorGroup))||void 0===e?void 0:e.node;if(n){var o=n.getChildByPath("human/RootNode/Bip001/Bip001 Pelvis/Bip001 Spine/Bip001 Spine1/Bip001 Neck/Bip001 R Clavicle/Bip001 R UpperArm/Bip001 R Forearm");i.getComponent(y).targetNode=o}}),2e3)},n=0;n<this.bricks.length;n++)i(n);this.reborn()},s.beCollected=function(){var e=this.node.worldPosition.clone();e.y+=2,e.x+=l(-.5,.5),e.z+=l(-.5,.5),m.Instance.showCollectMineEffect(e)},s.dig=function(e){if(!(this.digCount>=2))if(this.digCount++,this.beCollected(),1==this.digCount){this.node.getChildByPath("未挖").active=!1;var t=this.node.getChildByPath("挖过一次");t.active=!0,u(t).to(.08,{scale:new p(1.3,1.3,1.3)}).to(.1,{scale:new p(1,1,1)}).start()}else this.node.getChildByPath("挖过一次").active=!1,this.createBricks(e)},i}(B),t(x,"mines",{}),w=i((P=S).prototype,"colorGroup",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=P))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/Random.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"a9eecjn3s1Bn5YWIEtEpgY5","Random",void 0);n("Random",function(){function n(){}return n.positiveAndNegative=function(n,t){return void 0===t&&(t=n),Math.random()*n-t/2},n.random=function(n,t){return Math.round(Math.random()*Math.abs(n-t)+n)},n.randomByLength=function(n){return Math.floor(Math.random()*n)},n.doNotRepeatRandom=function(t,r){for(var a=t,o=r;o<3;){var e=n.random(0,8);-1==a.indexOf(e)&&(a.push(e),o++)}return a},n.normalDistribution=function(){var n=Math.sqrt(-2*Math.log(Math.random())),t=2*Math.PI*Math.random(),r={x:0,y:0};return r.x=n*Math.cos(t),r.y=n*Math.sin(t),r},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GamePage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./QtSdk.ts"],(function(e){"use strict";var n,t,o,a,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,a=e.Component},function(e){r=e.QtSdk}],execute:function(){var s;t._RF.push({},"b6e46d7dXlApa15NItJHhon","GamePage",void 0);var c=o.ccclass;o.property,e("GamePage",c("GamePage")(s=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.onEnable=function(){r.sendOpenPageEvent("闯关页面")},o.onDisable=function(){r.sendClosePageEvent("闯关页面")},t}(a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/TrialPage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./QtSdk.ts"],(function(e){"use strict";var n,t,r,o,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,o=e.Component},function(e){i=e.QtSdk}],execute:function(){var s;t._RF.push({},"bde10rG1H1NfYhuLXbP0Ts0","TrialPage",void 0);var a=r.ccclass;r.property,e("TrialPage",a("TrialPage")(s=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.onEnable=function(){i.sendOpenPageEvent("试用页面")},r.onDisable=function(){i.sendClosePageEvent("试用页面")},t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/videoADCloseTip.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./QtSdk.ts"],(function(e){"use strict";var t,n,s,i,o,l,c,r,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.defineProperty},function(e){l=e.cclegacy,c=e._decorator,r=e.Node,u=e.Component},function(e){a=e.QtSdk}],execute:function(){var p,d,_,h,f;l._RF.push({},"c26dfUp3CZGl4pwSLtiNV2/","videoADCloseTip",void 0);var T=c.ccclass,v=c.property;e("VideoADCloseTip",(p=T("VideoADCloseTip"),d=v(r),p((f=t((h=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return t=e.call.apply(e,[this].concat(l))||this,s(i(t),"treasureCloseBtn",f,i(t)),o(i(t),"_closeTipTween",null),o(i(t),"_adUnitId",null),o(i(t),"_successCB",null),o(i(t),"_successReportStr",""),o(i(t),"_data",null),o(i(t),"_cancelType",null),t}n(t,e);var l=t.prototype;return l.start=function(){},l.onEnable=function(){a.sendOpenPageEvent("中途关闭广告提示页"),this._data=null},l.show=function(e,t){this._successReportStr=null,this.node.active=!0,this._adUnitId=e,this._successCB=t},l.onDisable=function(){a.sendClosePageEvent("中途关闭广告提示页"),this._closeTipTween&&(this._closeTipTween.stop(),this._closeTipTween=null)},l.sure=function(){a.sendClickEvent("Ad确定按钮"),this.node.destroy();var e=this;a.playVideoAd(this._adUnitId,(function(){e._successCB&&e._successCB()}))},l.close=function(){a.sendClickEvent("取消按钮"),this._closeTipTween&&(this._closeTipTween.stop(),this._closeTipTween=null),this.node.destroy()},t}(u)).prototype,"treasureCloseBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=h))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/foundation.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./castle.ts","./woodenHouse2.ts"],(function(e){"use strict";var t,o,n,s,i,r,u,c,a,l,d;return{setters:[function(e){t=e.defineProperty,o=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,c=e.Node,a=e.Component},function(e){l=e.Castle},function(e){d=e.WoodenHouse2}],execute:function(){var p,h,g,f,v,w,H,C,m;r._RF.push({},"c5d71uqpchCiIF2tDsyLuNM","foundation",void 0);var y=u.ccclass,P=u.property;e("Foundation",(p=y("Foundation"),h=P(c),g=P(c),p((m=C=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,s(i(t),"woodenHouse",w,i(t)),s(i(t),"castle",H,i(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){t.Instance=this},o.start=function(){this.woodenHouse.active=!1,this.castle.active=!1,this.woodenHouse.getComponent(d).curProgress<.99?this.woodenHouse.active=!0:this.castle.getComponent(l).curProgress<.99?this.castle.active=!0:(this.woodenHouse.active=!0,this.woodenHouse.getComponent(d).setProgress(0),this.castle.getComponent(l).setProgress(0))},o.getCurBuliding=function(){return this.woodenHouse.active?this.woodenHouse:this.castle},o.addOneSliceeCurBuliding=function(){var e,t;return this.woodenHouse.active?(null===(t=this.woodenHouse.getComponent(d))||void 0===t||t.addPrecent(),this.woodenHouse.getComponent(d).curProgress):(null===(e=this.castle.getComponent(l))||void 0===e||e.addPrecent(),this.castle.getComponent(l).curProgress)},t}(a),t(C,"Instance",null),w=o((v=m).prototype,"woodenHouse",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(v.prototype,"castle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=v))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./Utility.ts","./Brick.ts","./GlobalEnum.ts","./Car.ts","./Joystick.ts","./Man.ts","./Mine.ts"],(function(t){"use strict";var e,n,i,o,s,r,a,c,d,u,l,h,f,p,m,w,y,g,v;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator},function(t){s=t.cclegacy,r=t._decorator,a=t.find,c=t.Vec3,d=t.RigidBody,u=t.tween},function(t){l=t.EventBus},function(t){h=t.Utility},function(t){f=t.Brick},function(t){p=t.Notify,m=t.Status},function(t){w=t.Car},function(t){y=t.SpeedType},function(t){g=t.Man},function(t){v=t.Mine}],execute:function(){var P;s._RF.push({},"ce3c16cdUFBKIaUS6S+GdSr","Enemy",void 0);var S=r.ccclass;r.property,t("Enemy",S("Enemy")(P=function(t){function s(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(i(e),"waitForNextStep",!1),n(i(e),"lastStatusTime",0),n(i(e),"_startGame",!1),e}e(s,t);var r=s.prototype;return r.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),l.on(p.startGame,this.startGame,this),l.on(p.gameLose,this.gameEnd,this),l.on(p.winTheGame,this.gameEnd,this),l.on(p.gameEnd,this.gameEnd,this),l.on(p.resetPlayerPos,this.resetPos,this)},r.resetPos=function(){t.prototype.resetPos.call(this);var e=a("gameScene/gameScene/qiao-zuo/kuangche");"AI2"===this.node.name&&(e=a("gameScene/gameScene/qiao-you/kuangche")),this.node.setWorldPosition(e.worldPosition.clone().add3f(0,0,4))},r.onDisable=function(){t.prototype.onDisable&&t.prototype.onDisable.call(this),l.offByTarget(this)},r.setStatus=function(e){this.lastStatusTime=Date.now(),t.prototype.setStatus.call(this,e),e!=m.Idle&&e!=m.Run||(this.waitForNextStep=!1)},r.startGame=function(){var t=o(regeneratorRuntime.mark((function t(){var e,n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._startGame=!0,this.setStatus(m.Idle),e=null;case 3:if(!this._startGame){t.next=30;break}return t.next=6,h.waitForSeconds(.1);case 6:if((n=this.getClosestNode(e))&&n!=e&&(this.status==m.Idle||this.status==m.Run)){t.next=10;break}return n||(this.status==m.Run&&this.setStatus(m.Idle),this.moveVec=new c(0,0,0),this.speedType=y.STOP),t.abrupt("continue",3);case 10:e=n,(i=n.worldPosition.clone()).y=this.node.worldPosition.y,this.setStatus(m.Run),this.moveVec=i.clone().subtract(this.node.worldPosition).normalize(),this.speedType=y.NORMAL,this.waitForNextStep=!0,o=Date.now();case 18:if(!(this.waitForNextStep&&n.isValid&&n.activeInHierarchy)){t.next=28;break}if(!(Date.now()-o>3e3)){t.next=24;break}return this.moveVec=new c(.5-Math.random(),0,.5-Math.random()),t.next=23,h.waitForSeconds(h.random(2,5));case 23:return t.abrupt("break",28);case 24:return t.next=26,h.waitForSeconds(.03);case 26:t.next=18;break;case 28:t.next=3;break;case 30:this.setStatus(m.Idle),this.moveVec=new c(0,0,0),this.speedType=y.STOP;case 33:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.gameEnd=function(t){t===this?this.setStatus(m.Win):this.setStatus(m.Lose),this.runToFinishPointTween&&(this.runToFinishPointTween.stop(),this.runToFinishPointTween=null),this._startGame=!1,this.waitForNextStep=!1},r.getClosestNode=function(t){var e=null;if(this.brickNumber>=h.random(20,40)){for(var n in w.cars){var i=w.cars[n].getComponent(w),o=i.node.worldPosition.clone();o.y=this.node.worldRotation.y,(!e||c.distance(this.node.worldPosition,o)<c.distance(this.node.worldPosition,e.worldPosition))&&(e=i.node)}return e}var s=h.shuffle(Object.keys(f.bricks));for(var r in s){var a=f.bricks[s[r]];if(a.isValid){var u=a.getComponent(f);if(0!=(u.colorGroup&this.colorGroup)){var l=u.getComponentInChildren(d);if(l.isDynamic||l.enabled){var p=new c;if(l.getLinearVelocity(p),!(p.length()>1)){var m=l.node;if(m!=t&&h.isValid(m)){var y=m.worldPosition.clone();if(y.y=this.node.worldRotation.y,(!e||c.distance(this.node.worldPosition,y)<c.distance(this.node.worldPosition,e.worldPosition))&&(e=m,c.distance(this.node.worldPosition,e.worldPosition)<20))return e}}}}}}var g=h.shuffle(Object.keys(v.mines));for(var P in g){var S=v.mines[g[P]];if(S.isValid){var b=S.getComponent(v);if(b.node!=t&&b.colorGroup==this.colorGroup&&2!=b.digCount){var T=b.node.worldPosition.clone();if(T.y=this.node.worldRotation.y,(!e||c.distance(this.node.worldPosition,T)<c.distance(this.node.worldPosition,e.worldPosition))&&(e=b.node,c.distance(this.node.worldPosition,e.worldPosition)<10))return e}}}return e},r.runToFinishPoint=function(){var t=this;if(this._startGame){var e=a("gameScene/gameScene/changjing--zhongdian/FinishLine2"),n=this;this.runToPos(e.worldPosition.clone(),(function(){t._startGame&&(n.setStatus(m.Win),u(n.node).to(.4,{eulerAngles:n.startEuler}).start(),l.dispatch(p.gameLose,t))}))}},s}(g))||P);s._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,o,e,r,i,a,l,c;return{setters:[function(n){t=n.asyncToGenerator},function(n){o=n.cclegacy,e=n._decorator,r=n.Vec3,i=n.Quat,a=n.tween,l=n.instantiate,c=n.Color}],execute:function(){o._RF.push({},"d61f0sqHalLILQV97WQ/r4U","Utility",void 0);e.ccclass,e.property,n("Utility",function(){function n(){}return n.waitForSeconds=function(){var n=t(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,o){setTimeout((function(){n(null)}),1e3*t)})));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),n.random=function(n,t,o){return void 0===o&&(o=!0),o?Math.floor(n+Math.random()*(t-n+1)):n+Math.random()*(t-n)},n.shuffle=function(n){for(var t=1;t<n.length;t++){var o=Math.floor(Math.random()*(t+1)),e=n[t];n[t]=n[o],n[o]=e}return n},n.deepClone=function(n,t){var o=this;if(void 0===t&&(t=new WeakMap),Object(n)!==n||n instanceof Function)return n;if(t.has(n))return t.get(n);if("Socket"!=n.constructor.name&&"Timeout"!=n.constructor.name){var e=null;try{e=new n.constructor}catch(t){e=Object.create(Object.getPrototypeOf(n))}return n instanceof Map?Array.from(n,(function(n){var r=n[0],i=n[1];return e.set(o.deepClone(r,t),o.deepClone(i,t))})):n instanceof Set&&Array.from(n,(function(n){return e.add(o.deepClone(n,t))})),t.set(n,e),Object.assign.apply(Object,[e].concat(Object.keys(n).map((function(e){var r;return(r={})[e]=o.deepClone(n[e],t),r}))))}},n.diff=function(n,t,o){if(void 0===o&&(o={arrayReserve:!0}),null==n)return t;if(o.arrayReserve&&(Array.isArray(n)||Array.isArray(t))&&JSON.stringify(n)!=JSON.stringify(t))return t;var e={};for(var r in n)if(null!=t){if(n[r]!==t[r])if("object"==typeof n[r]){var i=this.diff(n[r],t[r],o);void 0!==i&&(e[r]=i)}else e[r]=t[r]}else e[r]=void 0;for(var a in t)if(n[a]!==t[a]&&null==n[a])if("object"==typeof t[a]){var l=this.diff(n[a],t[a],o);void 0!==l&&(e[a]=l)}else e[a]=t[a];return 0==Object.keys(e).length?void 0:e},n.getCenterPosition=function(n){for(var t=new r(0,0,0),o=0,e=0;e<n.length;e++){var i=n[e];i.active&&(o++,t.add(i.worldPosition))}return t.multiplyScalar(1/o)},n.getUp=function(n){var t=new r;return r.transformQuat(t,r.UP,n.rotation),t},n.getRight=function(n){var t=new r;return r.transformQuat(t,r.RIGHT,n.rotation),t},n.getRotation=function(n,t,o){var e=new i;n.getRotation(e);var r=new i;i.fromAxisAngle(r,t,o/180*Math.PI);var a=new i;return i.multiply(a,r,e),a},n.rotate=function(t,o,e){t.setRotation(n.getRotation(t,o,e))},n.randomGetArrayItem=function(t,o){if(void 0===o&&(o=[]),!t||0==t.length)return null;var e=JSON.parse(JSON.stringify(t));n.shuffle(e);for(var r=0;r<e.length;r++)if(-1==o.indexOf(e[r]))return e[r]},n.tweenToRotation=function(n,t,o,e){return void 0===e&&(e=null),new Promise((function(r,l){var c=n.worldRotation.clone();a(n).to(o,{},{onUpdate:function(o,e){var r=new i;i.slerp(r,c,t,e),n.worldRotation=r},onComplete:function(){e&&e(),r(null)}}).start()}))},n.tweenToByBezier=function(n,t,o,e,r,i){return void 0===i&&(i=null),new Promise((function(l,c){var u=n.worldPosition.clone();a(n).to(r,{},{onUpdate:function(r,i){var a=i;n.worldPosition=u.clone().multiplyScalar(Math.pow(1-a,3)).add(o.clone().multiplyScalar(3*Math.pow(1-a,2)*a)).add(e.clone().multiplyScalar(3*(1-a)*Math.pow(a,2))).add(t.clone().multiplyScalar(Math.pow(a,3)))},onComplete:function(){i&&i(),l(null)}}).start()}))},n.setParent=function(n,t){var o=n.worldScale.clone(),e=n.worldRotation.clone(),r=n.worldPosition.clone();n.parent=t,n.worldScale=o.clone(),n.worldRotation=e.clone(),n.worldPosition=r.clone()},n.instantiateNode=function(n){var t=l(n);return t.parent=n.parent,t.worldScale=n.worldScale.clone(),t.worldRotation=n.worldRotation.clone(),t.worldPosition=n.worldPosition.clone(),t},n.instantiatePrefab=function(n,t){var o=n.data,e=l(o);return e.parent=t,e.worldScale=o.worldScale.clone(),e.worldRotation=o.worldRotation.clone(),e.worldPosition=o.worldPosition.clone(),e},n.getMaterialColor=function(n,t,o){void 0===t&&(t=0),void 0===o&&(o="albedo");var e=n.passes[t],r=e.getHandle(o),i=new c;return e.getUniform(r,i),i},n.getComponentInParent=function(n,t){for(;n;){var o=n.getComponent(t);if(o)return o;n=n.parent}return null},n.getComponentInChildren=function(n,t){var o=null==n?void 0:n.getComponent(t);return o||n.getComponentInChildren(t)},n.isValid=function(n){return!!n.position&&!(isNaN(n.position.x)||isNaN(n.position.y)||isNaN(n.position.z))},n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/SharePage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./QtSdk.ts"],(function(e){"use strict";var t,n,r,o,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.Component},function(e){a=e.QtSdk}],execute:function(){var s;n._RF.push({},"de2f4tJWrtELq6p6ekUk0A/","SharePage",void 0);var c=r.ccclass;r.property,e("SharePage",c("SharePage")(s=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.onEnable=function(){a.sendOpenPageEvent("分享页面")},r.onDisable=function(){a.sendClosePageEvent("分享页面")},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./EventBus.ts"],(function(_){"use strict";var e,t,r,E,n;return{setters:[function(_){e=_.createClass,t=_.defineProperty},function(_){r=_.cclegacy},function(_){E=_.Constants},function(_){n=_.EventBus}],execute:function(){r._RF.push({},"de42brsF4hKDbap21xdwa8L","Config",void 0);var T=_("Config",function(){function _(){}return _.getLevelSwitch=function(e){var t=_.serverConfig[e];if(!t||!t.length)return!1;for(var r=0;r<t.length;r++){var E=t[r];if(2==E.length){var n=Number(E[0]),T=Number(E[1]);if(_.CurrentLevel>=n&&_.CurrentLevel<=T)return console.log("getLevelSwitch",e,_.CurrentLevel,n,T),!0}}return!1},e(_,null,[{key:"CurrentLevel",get:function(){return this.currentLevel||(this.currentLevel=Number(localStorage.getItem(_.CURRENTLEVELKEY)||"1")),this.currentLevel},set:function(e){var t=this.currentLevel;this.currentLevel=e,localStorage.setItem(_.CURRENTLEVELKEY,String(e)),t!=e&&n.dispatchEvent(E.LevelChanged)}}]),_}());t(T,"APP_ID",""),t(T,"VERSION","1.0.0"),t(T,"USER_UID",""),t(T,"CID",""),t(T,"SERVICE_URL","https://bdapi.qianyue.host"),t(T,"BannerIds",[]),t(T,"CustomIds",[]),t(T,"VideoIds",[]),t(T,"InterstitialIds",[]),t(T,"serverConfig",{BANNER_REFRESH_TIME:30,AD_TURN_BTN_DELAY_SEC:0,AD_TURN_BTN_OPEN_SWITCH:void 0,AD_BOX_ALERT_SWITCH:1,EIGHTE_BOX__PAGE_SWITCH:1,CRAZY_CLICK_PAGE_SWITCH:0,CRAZY_CLICK_PAGE_LEVEL:[[1,1],[3,5]],AD_GIFT_TIPS_SWITCH:0,AD_GIFT_TIPS_DELAY_SEC:3,AD_GIFT_TIPS:5,AD_BOX_ALERT_DELAY_SEC:void 0,AD_MAIN_CLOSE_SWITCH:0,AD_MAIN_POP_SWITCH:0,AD_VIDEO_SHOW_AU:0,AD_VIDEO_SHOW_AU_LEVEL:[[1,1],[3,5]],AD_START_BTN_SWITCH:void 0,AD_CRAZY_CLICK_SWITCH:void 0,AD_GET_COLD_BTN_SWITCH:void 0,AD_CRAZY_CLICK_POP_RATIO:0,AD_AFTER_CLICK_DELAY_SEC:void 0,ad:0,QTSDK_EVENT_UPLOAD:1,APPLAUNCHOPTIONS:void 0,INTERSTITIAL_FRONT_VIDEO_SWITCH:0,INTERSTITIAL_FRONT_VIDEO_LEVEL:[[1,1],[3,5]],SIGN_IN_PAGE_SWITCH:0,TRY_PAGE_BUTTON_PLAN2_SWITCH:0,TRY_PAGE_BUTTON_PLAN3_RATIO:0,SETTLEMENT_PAGE_BUTTON_PLAN1_SWITCH:0}),t(T,"CURRENTLEVELKEY","CURRENTLEVELKEY"),t(T,"currentLevel",0),t(T,"CurrentTime",0),t(T,"StartCurrentTime",0),t(T,"videoPath",""),t(T,"SHAKE_COIN","shake_coin"),t(T,"Page_Name",""),r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Player.ts"],(function(t){"use strict";var i,n,e,o,s,a,r,l,c;return{setters:[function(t){i=t.defineProperty,n=t.inheritsLoose,e=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Vec3,r=t.tween,l=t.Component},function(t){c=t.Player}],execute:function(){var u,h,d;o._RF.push({},"def5fe/S5tCxYvnQDCjmBF3","CameraManager",void 0);var f=s.ccclass;s.property,t("CameraManager",f("CameraManager")((d=h=function(t){function o(){for(var n,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,i(e(n),"initPosition",null),i(e(n),"delta",null),i(e(n),"initialDeltaPosition",new a),i(e(n),"_canMove",!1),i(e(n),"initEuler",new a),n}n(o,t);var s=o.prototype;return s.onLoad=function(){this.initEuler=this.node.eulerAngles.clone(),o.Instance=this},s.start=function(){this.updateCameraInfo()},s.lateUpdate=function(t){if(this._canMove){var i=c.Instance.getFocusPosition().subtract(this.delta);this.node.worldPosition=i}},s.updateCameraInfo=function(){this.initPosition=this.node.worldPosition.clone(),this.delta=c.Instance.getFocusPosition().subtract(this.node.worldPosition),this.initialDeltaPosition=this.delta.clone()},s.startMove=function(){this._canMove=!0,this.delta=this.initialDeltaPosition.clone()},s.stopMove=function(){this._canMove=!1},s.resetData=function(){this.stopMove(),this.node.setWorldPosition(this.initPosition.x,this.initPosition.y,this.initPosition.z),this.node.setRotationFromEuler(this.initEuler)},s.resetInfo=function(t){var i=c.Instance.getFocusPosition().subtract(this.delta);r(this.node).to(.6,{eulerAngles:this.initEuler,worldPosition:i}).call((function(){t&&t()})).start()},o}(l),i(h,"Instance",null),u=d))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/Treasure.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventBus.ts","./Config.ts","./Utility.ts","./QtSdk.ts"],(function(e){"use strict";var t,n,r,o,i,l,a,s,c,u,p,f,d,h,B,b,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.defineProperty,o=e.assertThisInitialized,i=e.initializerDefineProperty},function(e){l=e.cclegacy,a=e._decorator,s=e.Node,c=e.SpriteFrame,u=e.tween,p=e.Vec3,f=e.Sprite,d=e.Component},function(e){h=e.EventBus},function(e){B=e.Config},function(e){b=e.Utility},function(e){v=e.QtSdk}],execute:function(){var y,C,m,g,S,O,x,k,E,_,F,N,w;l._RF.push({},"e3337ZdeAVLsb8pWhXIYfRj","Treasure",void 0);var A=a.ccclass,T=a.property;e("Treasure",(y=A("Treasure"),C=T(s),m=T(s),g=T(s),S=T(s),O=T(c),y((E=t((k=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,r(o(t),"freeBoxCount",b.random(2,4)),r(o(t),"leftBoxNumber",8),i(o(t),"layout",E,o(t)),i(o(t),"openOnceMoreBtn",_,o(t)),i(o(t),"closeBtn",F,o(t)),i(o(t),"videoSprite",N,o(t)),i(o(t),"openedSpriteFrame",w,o(t)),r(o(t),"closeCallBack",null),r(o(t),"boxOpenOrder",[0,1,2,3,4,5,6,7]),r(o(t),"canClose",!1),t}n(t,e);var l=t.prototype;return l.start=function(){v.sendOpenPageEvent("八格宝箱页"),b.shuffle(this.boxOpenOrder),this.closeBtn.active=!1,this.videoSprite.active=!1;var e=this.openOnceMoreBtn.scale.clone();u(this.openOnceMoreBtn).to(1,{scale:e.clone().multiplyScalar(1.3)}).to(.25,{scale:e.clone()}).union().repeatForever().start()},l.onDestroy=function(){v.sendClosePageEvent("八格宝箱页")},l.getKey=function(){var e=this,t=this.boxOpenOrder[this.boxOpenOrder.length-this.leftBoxNumber];0==this.freeBoxCount?(v.sendClickEvent("Ad打开按钮"),v.playVideoAd(B.VideoIds[0],(function(){h.dispatch(B.SHAKE_COIN,200,new p(0,60,0)),e.leftBoxNumber--,e.layout.children[t].getComponent(f).spriteFrame=e.openedSpriteFrame,0==e.leftBoxNumber&&(e.closeCallBack&&e.closeCallBack(),e.node.destroy())}),(function(){}))):(v.sendClickEvent("打开按钮"),h.dispatch(B.SHAKE_COIN,100,new p(0,60,0)),this.freeBoxCount--,this.leftBoxNumber--,this.layout.children[t].getComponent(f).spriteFrame=this.openedSpriteFrame,0==this.freeBoxCount&&!this.canClose&&setTimeout((function(){e.canClose=!0,e.closeBtn&&(e.closeBtn.active=!0,e.videoSprite.active=!0)}),1e3*B.serverConfig.AD_TURN_BTN_DELAY_SEC))},l.close=function(){v.sendClickEvent("继续游戏按钮"),this.closeCallBack&&this.closeCallBack(),this.node.destroy()},t}(d)).prototype,"layout",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(k.prototype,"openOnceMoreBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(k.prototype,"closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(k.prototype,"videoSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(k.prototype,"openedSpriteFrame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=k))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/woodenHouse2.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,o,t,s,n,i,l,c,a,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,s=e.assertThisInitialized,n=e.defineProperty},function(e){i=e.cclegacy,l=e._decorator,c=e.Collider,a=e.MeshRenderer,u=e.Component}],execute:function(){var d,g,h,p,f;i._RF.push({},"eb22fgAa39FuqLLr+n9eKwN","woodenHouse2",void 0);var P=l.ccclass,y=l.property,v=(l.executeInEditMode,"WoodenHouseKEY");e("WoodenHouse2",(d=P("WoodenHouse2"),g=y({type:c}),d((f=r((p=function(e){function r(){for(var r,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=e.call.apply(e,[this].concat(i))||this,t(s(r),"boxCollider",f,s(r)),n(s(r),"curProgress",0),r}o(r,e);var i=r.prototype;return i.onLoad=function(){this.curProgress=localStorage.getItem(v)?parseFloat(localStorage.getItem(v)):0},i.start=function(){this.setProgress(this.curProgress)},i.setProgress=function(e){var r=this.node.worldPosition.y,o=this.boxCollider.size.y*this.boxCollider.node.worldScale.z,t=this.node.getComponentsInChildren(a),s=r+o*e;this.curProgress=e,localStorage.setItem(v,e.toString());for(var n=0;n<t.length;n++)for(var i=t[n].materials,l=0;l<i.length;l++){i[l].setProperty("showPercentage",s)}},i.addPrecent=function(e){return void 0===e&&(e=1),this.curProgress+=e/60,this.setProgress(this.curProgress),this.curProgress},r}(u)).prototype,"boxCollider",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./BezierFly.ts","./AudioManager.ts","./EventBus.ts","./Config.ts","./QtSdk.ts","./GlobalEnum.ts","./Joystick.ts","./foundation.ts","./CameraManager.ts","./Man.ts"],(function(t){"use strict";var e,n,i,s,o,a,r,u,c,l,h,d,p,f,v,y,m,g,T,C,P;return{setters:[function(t){e=t.defineProperty,n=t.inheritsLoose,i=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,a=t.SystemEventType,r=t.find,u=t.Vec3,c=t.ParticleSystem,l=t.tween},function(t){h=t.BezierFly},function(t){d=t.AudioManager},function(t){p=t.EventBus},function(t){f=t.Config},function(t){v=t.QtSdk},function(t){y=t.Notify,m=t.Status},function(t){g=t.instance},function(t){T=t.Foundation},function(t){C=t.CameraManager},function(t){P=t.Man}],execute:function(){var _,b,E;s._RF.push({},"f19d1B1+z9Fy72Mq9pdFmVX","Player",void 0);var S=o.ccclass,B=(o.property,o.executionOrder);t("Player",S("Player")(_=B(-3)((E=b=function(t){function s(){for(var n,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,e(i(n),"startMove",!1),e(i(n),"_bulidTimeOut",0),e(i(n),"_bulidFinishTimeOut",0),e(i(n),"progress",0),n}n(s,t);var o=s.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),s.Instance=this},o.start=function(){t.prototype.start.call(this),g.on(a.TOUCH_START,this.onTouchStart,this),g.on(a.TOUCH_MOVE,this.onTouchMove,this),g.on(a.TOUCH_END,this.onTouchEnd,this)},o.onEnable=function(){t.prototype.onEnable&&t.prototype.onEnable.call(this),p.on(y.resetPlayerPos,this.resetPos,this),p.on(y.startGame,this.startGame,this),p.on(y.gameLose,this.gameLose,this)},o.resetPos=function(){this.progress=0,t.prototype.resetPos.call(this);var e=r("gameScene/gameScene/qiao-zhong/kuangche");this.node.setWorldPosition(e.worldPosition.clone().add3f(0,0,4))},o.onDisable=function(){t.prototype.onDisable&&t.prototype.onDisable.call(this),p.offByTarget(this)},o.getFocusPosition=function(){return this.node.worldPosition.clone()},o.onTouchStart=function(){this.startMove=!1},o.onTouchMove=function(t,e){this.status!=m.Ready&&this.status!=m.Driving&&this.status!=m.Win&&this.status!=m.Lose&&this.status!=m.Run2finishingPoint&&(this.speedType=e.speedType,this.moveVec=new u(e.moveVec.x,0,-e.moveVec.y).normalize(),this.startMove||(this.startMove=!0,this.setStatus(m.Run)))},o.onTouchEnd=function(t,e){this.speedType=e.speedType,this.status==m.Run&&this.setStatus(m.Idle)},o.startGame=function(){this.setStatus(m.Idle)},o.gameLose=function(){this.setStatus(m.Lose)},o.bulidCastle=function(){if(d.playSound(d.Instance.setMine2),!(this.brickNumber<=0||this.progress>.99)){v.sendEvent("click_event",{Event_Page:"CrazyBulid-建造页面",Event_Element:"狂点盖房",Element_Type:"按钮",Level:f.CurrentLevel,Ext_PS_1:"普通按钮样式"});var t=new h,e=this.getLastBrick(),n=T.Instance.getCurBuliding(),i=this;t.move(e,n.worldPosition.clone(),function(t){e.parent=null,e.destroy(),i.progress=T.Instance.addOneSliceeCurBuliding(),(0===t||i.progress>=.99)&&(clearTimeout(i._bulidFinishTimeOut),i._bulidFinishTimeOut=setTimeout((function(){i.winTheGame()}),300))}.bind(this,this.brickNumber)),this.animation.crossFade("hand"),r("Canvas/CrazyBulid/spine").active=!0,clearTimeout(this._bulidTimeOut),this._bulidTimeOut=setTimeout((function(){r("Canvas/CrazyBulid/spine").active=!1}),500)}},o.winTheGame=function(){var t,e;r("Canvas/CrazyBulid").active=!1,null===(t=T.Instance.node.getChildByName("beijingguang"))||void 0===t||null===(e=t.getComponent(c))||void 0===e||e.play(),v.sendEvent("Leave_Page",{Page_Name:"CrazyBulid-建造页面",Level:f.CurrentLevel});var n=this;C.Instance.resetInfo((function(){n.setStatus(m.Win),r("Canvas/CrazyBulid/spine").active=!1,l(n.node).to(.4,{eulerAngles:n.startEuler}).start(),p.dispatch(y.winTheGame,10)}))},s}(P),e(b,"Instance",null),_=E))||_)||_);s._RF.pop()}}}));

System.register("chunks:///_virtual/Man.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Group.ts","./Constants.ts","./AudioManager.ts","./EventBus.ts","./Config.ts","./Utility.ts","./QtSdk.ts","./Brick.ts","./Pathway.ts","./GlobalEnum.ts","./Car.ts","./Joystick.ts","./CameraManager.ts","./Player.ts","./Mine.ts"],(function(e){"use strict";var t,n,i,o,r,s,a,l,c,u,d,h,p,g,m,f,y,v,P,C,b,k,w,T,S,E,M,R,B,I,F,N,A,x,G,z,D,L,V,W,O,_;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass,a=e.asyncToGenerator},function(e){l=e.cclegacy,c=e._decorator,u=e.geometry,d=e.Vec3,h=e.SkeletalAnimation,p=e.Collider,g=e.Tween,m=e.PhysicsSystem,f=e.MeshRenderer,y=e.RigidBody,v=e.find,P=e.tween,C=e.Quat,b=e.Animation,k=e.Component,w=e.Color,T=e.Vec4,S=e.ERigidBodyType},function(e){E=e.ColorGroup,M=e.Group},function(e){R=e.Constants},function(e){B=e.AudioManager},function(e){I=e.EventBus},function(e){F=e.Config},function(e){N=e.Utility},function(e){A=e.QtSdk},function(e){x=e.Brick},function(e){G=e.Pathway},function(e){z=e.Status,D=e.Notify},function(e){L=e.Car},function(e){V=e.SpeedType},function(e){W=e.CameraManager},function(e){O=e.Player},function(e){_=e.Mine}],execute:function(){var H,j,U,Q,J,X,Y;l._RF.push({},"f5907vnXztJAbqjsZ4GtYlR","Man",void 0);var q=c.ccclass,Z=c.property,K=u.Ray;e("Man",(H=q("Man"),j=Z({type:E}),H((Y=X=function(e){function n(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,o(r(n),"colorGroup",J,r(n)),t(r(n),"speedType",V.STOP),t(r(n),"moveVec",null),t(r(n),"status",z.None),t(r(n),"animation",null),t(r(n),"bricks",[]),t(r(n),"brickNumber",0),t(r(n),"startEuler",new d),t(r(n),"moveVecEnterMine",null),t(r(n),"protectionPeriod",!1),t(r(n),"runToFinishPointTween",null),n}i(n,e);var l=n.prototype;return l.onLoad=function(){this.startEuler=this.node.eulerAngles.clone(),this.animation=this.getComponentInChildren(h)},l.start=function(){this.bricks=this.node.getChildByPath("human/RootNode/Bip001/Bip001 Pelvis/Bip001 Spine/砖块").children;for(var e=0;e<this.bricks.length;e++)this.bricks[e].active=!1;for(var t=this.getComponentsInChildren(p),n=0;n<t.length;n++)if(!A.isEditor()){var i=t[n];this instanceof O?(i.setGroup(M.Player),i.setMask(M.RedEnemy|M.BlueEnemy|M.Mine|M.Car|M.Brick|M.WinArea)):(i.setGroup(this.colorGroup==E.Red?M.RedEnemy:M.BlueEnemy),i.setMask(M.Player|(this.colorGroup==E.Red?M.BlueEnemy:M.RedEnemy)|M.Mine|M.Car|M.Brick|M.WinArea)),i.on("onCollisionEnter",this.onCollisionEnter,this),i.on("onCollisionStay",this.onCollisionStay,this),i.on("onCollisionExit",this.onCollisionExit,this),i.on("onTriggerEnter",this.onTriggerEnter,this),i.on("onTriggerExit",this.onTriggerExit,this)}},l.onEnable=function(){this.protectionPeriod=!1,n.mans[this.uuid]=this},l.onDisable=function(){delete n.mans[this.uuid]},n.getManByColor=function(e){for(var t in n.mans){var i=n.mans[t];if(i.colorGroup==e)return i}},l.resetPos=function(){for(this.node.getChildByPath("human/RootNode/Pickaxe").active=!0;this.brickNumber>0;)this.removeBrick();g.stopAllByTarget(this.node),this.runToFinishPointTween&&(this.runToFinishPointTween.stop(),this.runToFinishPointTween=null),this.setStatus(z.Ready),this.node.eulerAngles=this.startEuler},l.update=function(e){if(this.status!=z.Run){if(this.status!=z.Mining||d.angle(this.moveVec,this.moveVecEnterMine)<Math.PI/2)return;this.setStatus(z.Run)}if(this.speedType!=V.STOP){var t=this.node.position.clone();if(this.node.position=this.node.position.add(this.moveVec.clone().multiplyScalar((this.speedType==V.NORMAL?5:10)*e)),this.node.eulerAngles=new d(0,Math.atan2(-this.moveVec.z,this.moveVec.x)/Math.PI*180+90,0),this.tryWalkForward()){var n=new K;n.o=this.node.worldPosition.clone().add3f(0,1,0),n.d=new d(0,-1,0);var i=m.instance.raycastClosest(n,M.Road,10,!0),o=m.instance.raycastClosestResult;if(i)switch(o.collider.getGroup()){case M.Road:this.node.worldPosition=o.hitPoint}else this.node.position=t}else this.node.position=t}},l.getMaterial=function(){return this.getComponentInChildren(f).material},l.tryWalkForward=function(){var e=new K;e.o=this.node.worldPosition.clone().add3f(0,1,0),e.d=this.node.forward.clone().negative();var t=m.instance.raycastClosest(e,M.Obstacle|M.Mine,2,!0),n=m.instance.raycastClosestResult;return!t||n.distance>1},l.setStatus=function(e){if(e!=this.status)switch(this.status=e,e){case z.Ready:case z.Idle:this.animation.crossFade("stand");break;case z.Run2finishingPoint:case z.Run:this.animation.crossFade("run");break;case z.Mining:this.animation.crossFade("attack");break;case z.Win:this.animation.crossFade("win");break;case z.Lose:this.animation.crossFade("lose");break;case z.Down:this.animation.crossFade("down");break;case z.Weakup:this.animation.crossFade("weakup")}},l.addBrick=function(){this.brickNumber++;var e=this.brickNumber-1,t=this.bricks[e%2],n=N.instantiateNode(t);n.position=n.position.clone().add3f(0,.0065*Math.floor(e/2),0),n.active=!0,n.getComponentInChildren(y).enabled=!1,n.getComponentInChildren(p).enabled=!1,n.getChildByPath("RootNode/MinePickup/tuowei").active=!1},l.removeBrick=function(){this.brickNumber--;var e=this.bricks[this.brickNumber+2];e.parent=null,e.destroy()},l.getLastBrick=function(){this.brickNumber--;var e=this.bricks[this.brickNumber+2];return e.setParent(v("Root"),!0),e},l.dropAllBrick=function(){for(var e=this,t=function(){var t=e.bricks[e.brickNumber+1],n=N.instantiateNode(t);n.position=n.position.clone(),n.active=!0,n.getChildByPath("RootNode/MinePickup/tuowei").active=!1,N.setParent(t,v("Root")),t.getComponent(x).colorGroup=E.Black;var i=t.getComponentInChildren(f).material.passes[0];if(i){var o=(new w).fromHEX("#1E1E1E"),r=i.getHandle("albedo");i.setUniform(r,o);var s=i.getHandle("albedoScale");i.setUniform(s,new T(1,1,1));var a=i.getHandle("emissive");i.setUniform(a,o)}t.setWorldScale(100,100,100);var l=t.getComponentInChildren(y);t.getComponentInChildren(p).enabled=!0,l.enabled=!0,t.getComponentInChildren(p).setMask(0),l.type=S.DYNAMIC,l.applyImpulse(new d(8*(Math.random()-.5),5+8*Math.random(),8*(Math.random()-.5))),P(t).delay(.3).call((function(){t.getComponentInChildren(p).setMask(M.Player|M.RedEnemy|M.BlueEnemy|M.Road|M.Obstacle)})).start(),P(t).delay(3).call((function(){var e;null===(e=t.getComponent(x))||void 0===e||e.findTheNearestTarget()})).start(),e.removeBrick()};this.brickNumber>0;)t()},l.onCollisionEnter=function(){var e=a(regeneratorRuntime.mark((function e(t){var i,o,r,s,a,l,c,u,h,p=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.otherCollider.enabled){e.next=2;break}return e.abrupt("return");case 2:o=t.otherCollider.node,r=t.otherCollider.getGroup(),e.t0=r,e.next=e.t0===M.Car?7:e.t0===M.Brick?11:e.t0===M.Player||e.t0===M.RedEnemy||e.t0===M.BlueEnemy?14:e.t0===M.WinArea?36:47;break;case 7:if("锄头碰撞体"!=t.selfCollider.node.name){e.next=9;break}return e.abrupt("break",47);case 9:return this.touchCar(t),e.abrupt("break",47);case 11:return s=N.getComponentInParent(o,x),((null===(i=s.getComponent(x))||void 0===i?void 0:i.isTrack)||o.getComponent(y).isDynamic&&this.colorGroup&s.colorGroup)&&(this.addBrick(),N.getComponentInParent(s.node,_)?s.node.active=!1:s.node.destroy()),e.abrupt("break",47);case 14:if(this.status!=z.Driving&&this.status!=z.Win&&this.status!=z.Lose){e.next=16;break}return e.abrupt("return");case 16:if((a=N.getComponentInParent(o,n)).status!=z.Driving&&a.status!=z.Win&&a.status!=z.Lose){e.next=19;break}return e.abrupt("return");case 19:if(!(this.brickNumber>a.brickNumber)||a.protectionPeriod){e.next=35;break}return a.runToFinishPointTween&&a.runToFinishPointTween.stop(),A.vibrateShort(),a.dropAllBrick(),a.protectionPeriod=!0,a.setStatus(z.Down),e.next=27,N.waitForSeconds(1.6);case 27:return a.setStatus(z.Weakup),e.next=30,N.waitForSeconds(.5);case 30:return a.setStatus(a.speedType==V.STOP?z.Idle:z.Run),e.next=33,N.waitForSeconds(3);case 33:a.protectionPeriod=!1,a.runToFinishPointTween&&a.runToFinishPoint();case 35:return e.abrupt("break",47);case 36:return t.otherCollider.enabled=!1,A.gameSuccess(),this.speedType=V.STOP,l=v("gameScene/gameScene/changjing--zhongdian/bulidPos"),c=v("gameScene/gameScene/changjing--zhongdian/Camera"),u=d.distance(this.node.worldPosition,l.worldPosition)/10,h=this,this.runToPos(l.worldPosition.clone(),(function(){P(h.node).to(1,{eulerAngles:new d(0,225,0)}).start(),p.animation.crossFade("stand"),W.Instance.stopMove(),P(W.Instance.node).to(1,{eulerAngles:c.eulerAngles,worldPosition:c.worldPosition}).call((function(){R.pageName="CrazyBulid-建造页面",A.sendEvent("Open_Page",{Page_Name:"CrazyBulid-建造页面",Level:F.CurrentLevel}),v("Canvas/CrazyBulid").active=!0})).start()}),u),I.dispatch(D.gameEnd),e.abrupt("break",47);case 47:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.touchCar=function(){var e=a(regeneratorRuntime.mark((function e(t){var n,i,o,r,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status!==z.Driving){e.next=2;break}return e.abrupt("return");case 2:return this.setStatus(z.Driving),n=N.getComponentInParent(t.otherCollider.node,L),i=n.node,N.instantiateNode(i),i.getComponentInChildren(p).enabled=!1,o=this.node.parent,N.setParent(this.node,i),r=i.worldPosition.clone(),P(this.node).to(.1,{eulerAngles:new d(0,180,0),worldPosition:r}).start(),e.next=13,N.waitForSeconds(.1);case 13:i.parent.getComponent(G).forward(i,this,(function(e,t){if(N.isValid(s.node)&&(!o||N.isValid(o))){N.setParent(s.node,o),i.parent=null,i.destroy();var n,r=s.node.worldPosition.clone(),a=s.node.worldPosition.clone();t?(r.y+=5,r.z+=2,a.z+=4,n=new d(0,0,0)):(r.y+=5,r.z-=2,a.z-=4,n=new d(0,180,0)),P(s.node).to(.5,{eulerAngles:n,worldPosition:r}).to(.5,{worldPosition:a}).call((function(){s.setStatus(z.Idle)})).start(),e&&setTimeout((function(){s.runToFinishPoint()}),1020)}}));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.runToFinishPoint=function(){var e=this,t=v("gameScene/gameScene/changjing--zhongdian/FinishLine2").worldPosition.clone();this.isPlayer&&t.add3f(1,0,-3.5);var n=this;this.runToPos(t,(function(){if(n.isPlayer){A.gameSuccess(),e.speedType=V.STOP;var t=v("gameScene/gameScene/changjing--zhongdian/Camera"),i=e;e.node.getChildByPath("human/RootNode/Pickaxe").active=!1;var o=i.node.eulerAngles.y<0?-180:180;P(i.node).to(1,{eulerAngles:new d(0,o,0)}).start(),e.animation.crossFade("stand"),W.Instance.stopMove(),P(W.Instance.node).to(1,{eulerAngles:t.eulerAngles,worldPosition:t.worldPosition}).call((function(){R.pageName="CrazyBulid-建造页面",A.sendEvent("Open_Page",{Page_Name:"CrazyBulid-建造页面",Level:F.CurrentLevel}),v("Canvas/CrazyBulid").active=!0})).start(),I.dispatch(D.gameEnd)}else P(n.node).to(.4,{eulerAngles:n.startEuler}).start(),n.setStatus(z.Win),I.dispatch(D.gameLose,e)}))},l.runToPos=function(e,t,n){void 0===n&&(n=2),this.setStatus(z.Run2finishingPoint);var i=e.clone(),o=this.node.worldPosition.clone(),r=new C;o.subtract(i),o.normalize(),o.negative(),o.y=0,C.fromViewUp(r,o),this.node.setWorldRotation(r),this.animation.crossFade("run"),this.runToFinishPointTween=P(this.node).to(n,{worldPosition:e}).call(t),this.runToFinishPointTween.start()},l.onCollisionStay=function(e){var t=this,n=e.otherCollider.node;switch(e.otherCollider.getGroup()){case M.Mine:if(this.status==z.Mining)return;this.setStatus(z.Mining),this.moveVecEnterMine=this.moveVec.clone(),this.animation.off(b.EventType.FINISHED),this.isPlayer&&A.vibrateShort(),this.animation.once(b.EventType.FINISHED,(function(){if(t.status==z.Mining){t.setStatus(t.speedType==V.STOP?z.Idle:z.Run),t.isPlayer&&B.playSound(B.Instance.getMine);var e=N.getComponentInParent(n,_);e.dig(t),Math.random()<.3&&e.dig(t)}}))}},l.onCollisionExit=function(e){},l.onTriggerEnter=function(e){},l.onTriggerExit=function(e){},s(n,[{key:"isPlayer",get:function(){return this.colorGroup==E.Green}}]),n}(k),t(X,"mans",{}),J=n((Q=Y).prototype,"colorGroup",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=Q))||U));l._RF.pop()}}}));

System.register("chunks:///_virtual/FBAdManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,s,a;return{setters:[function(e){t=e.defineProperty,r=e.inheritsLoose,n=e.assertThisInitialized,s=e.asyncToGenerator},function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"f91251X8zFOU7EXEjajgy8A","FBAdManager",void 0);var i,o,c=!0;function h(e,t){return u.apply(this,arguments)}function u(){return(u=s(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){try{r&&r(),e()}catch(e){n(e)}}),1e3*t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.INTERSTITIAL=0]="INTERSTITIAL",e[e.REWARDED_VIDEO=1]="REWARDED_VIDEO",e[e.BANNER=2]="BANNER"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.NEW=1]="NEW",e[e.LOADING=2]="LOADING",e[e.LOADED=3]="LOADED",e[e.PLAYING=4]="PLAYING"}(o||(o={}));var d={code:"EXCEED_MAX_AD_INSTANCE",message:"Max AD Instance allowed: 3"},l={code:"NO_READY_AD_INSTANCE",message:"AD Instance Not Ready or Played too frequently"},f={code:"NOT_READY_FOR_LOAD",message:"Not Ready for Load"},_={code:"AD_IS_LOADING",message:"AD is Loading"},p={code:"NOT_READY_FOR_PLAYING",message:"Not Ready for Playing"},I={code:"AD_IS_PLAYING",message:"AD is Playing"},A={code:"NO_BANNER_AD",message:"No Banner Ad Instance"},g={code:"API_NOT_SUPPORT",message:"API Not Support"},y={code:"TOO_FAST_SHOW",message:"Too Fast To Show Ads"},R={code:"NOT_PLAYING",message:"Ads Not Playing"},w={code:"TOO_MANY_ERRORS",message:"Too Many Errors, Stop Next Action"},m="RATE_LIMITED",N="ADS_NO_FILL";function T(e,t,r){return e&&void 0!==e[t]?e[t]:r}var E=function(){function e(e,r){t(this,"_lastShowTime",0),t(this,"_refreshInterval",0),this._refreshInterval=e>0?e:0,this._lastShowTime=0,r>0&&(this._lastShowTime=Date.now()+1e3*r-1e3*this._refreshInterval)}var r=e.prototype;return r.isReadyToRefresh=function(){return this.getNextRefreshInterval()<=0},r.getNextRefreshInterval=function(){var e=0;if(this._refreshInterval>0&&this._lastShowTime>0){var t=Date.now();e=this._refreshInterval-(t-this._lastShowTime)/1e3}return e},r.updateLastShowTime=function(){this._lastShowTime=Date.now()},e}(),v=function(){function e(e,r,n,s){t(this,"_state",void 0),t(this,"_adId",void 0),t(this,"_type",void 0),t(this,"_maxLoadError",0),t(this,"_errorCounter",0),t(this,"_fatalError",!1),t(this,"_sharedTimer",null),this._adId=e,this._state=o.NONE,this._type=r,this._sharedTimer=n,this._fatalError=!1,console.assert(!!n,"sharedTimer is invalid",n),this._maxLoadError=T(s,"maxLoadError",0)}var r=e.prototype;return r.getStateName=function(){return function(e){var t="NONE";switch(e){case o.NEW:t="NEW";break;case o.LOADING:t="LOADING";break;case o.LOADED:t="LOADED";break;case o.PLAYING:t="PLAYING"}return t}(this._state)},r.getAdTypeName=function(){return this._type==i.INTERSTITIAL?"Interstitial":this._type==i.REWARDED_VIDEO?"RewardedVideo":this._type==i.BANNER?"Banner":"UNKNOWN"},r.getInfo=function(){return"["+this.getAdTypeName()+":"+this._adId+":"+this.getStateName()+"]"},r.isReadyToRefresh=function(){return this._sharedTimer.isReadyToRefresh()},r.getNextRefreshInterval=function(){return this._sharedTimer.getNextRefreshInterval()},r.updateLastShowTime=function(){this._sharedTimer.updateLastShowTime()},r.increaseErrorCounter=function(){this._errorCounter++},r.resetErrorCounter=function(){this._errorCounter=0},r.setFatalError=function(){this._fatalError=!0},r.isErrorTooMany=function(){return this._fatalError||this._maxLoadError>0&&this._errorCounter>=this._maxLoadError},e}(),O=function(e){function a(r,s,a,i){var o;return o=e.call(this,r,s,a,i)||this,t(n(o),"_adInstance",void 0),t(n(o),"_autoLoadOnPlay",void 0),o._adInstance=null,o._autoLoadOnPlay=T(i,"autoLoadOnPlay",!1),o}r(a,e);var i=a.prototype;return i.loadAsync=function(){var e=s(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this._adInstance){e.next=14;break}if(this._state!=o.NONE){e.next=10;break}return this._state=o.NEW,console.log("Get Ad Instance: "+this.getInfo()),console.log(this.createAdInstanceAsync(this._adId),this._adId),e.next=7,this.createAdInstanceAsync(this._adId);case 7:this._adInstance=e.sent,e.next=12;break;case 10:return console.log("Ad Instance is still creating: "+this.getInfo()),e.abrupt("return");case 12:e.next=14;break;case 14:if(this._state==o.NEW){e.next=22;break}if(console.log("Not ready for preload: "+this.getInfo()),this._state!=o.LOADING){e.next=21;break}throw console.log("Ad is loading, do not reload"+this.getInfo()),_;case 21:throw f;case 22:if(!this.isErrorTooMany()){e.next=25;break}throw console.log("Too many errors, stop loading: "+this.getInfo()),w;case 25:return e.prev=25,this._state=o.LOADING,console.log("Start Loading: "+this.getInfo()),e.next=30,this._adInstance.loadAsync();case 30:return this._state=o.LOADED,this.resetErrorCounter(),console.log("Loading Success: "+this.getInfo()),e.abrupt("return",!0);case 36:throw e.prev=36,e.t0=e.catch(25),console.error("Loading Failed: "+this.getInfo(),e.t0),e.t0.code==N?(console.error("Ads Not Fill, stop loading: "+this.getInfo()),this.setFatalError()):(this.increaseErrorCounter(),this._state=o.NEW,t=10*this._errorCounter+1,console.log("Reload after "+t+" seconds: "+this.getInfo()),h(t,this.loadAsync.bind(this)).catch((function(e){console.info("Reload failed: "+r.getInfo(),e)}))),e.t0;case 41:case"end":return e.stop()}}),e,this,[[25,36]])})));return function(){return e.apply(this,arguments)}}(),i.isReady=function(){return null!=this._adInstance&&this._state==o.LOADED},i.showAsync=function(){var e=s(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isReady()){e.next=7;break}if(console.log("Not Ready for play: "+this.getInfo()),this._state!=o.PLAYING){e.next=6;break}throw I;case 6:throw p;case 7:if(this.isReadyToRefresh()){e.next=10;break}throw console.log("Play too frequently, wait for "+this.getNextRefreshInterval()+" seconds: "+this.getInfo()),y;case 10:return e.prev=10,this._state=o.PLAYING,console.log("Play Ads: "+this.getInfo()),e.next=15,this._adInstance.showAsync();case 15:return console.log("Play Success: "+this.getInfo()),this._adInstance=null,this._state=o.NONE,this.updateLastShowTime(),this._autoLoadOnPlay&&(console.log("Reload after 1 seconds: "+this.getInfo()),h(1,this.loadAsync.bind(this)).catch((function(e){console.info("Reload failed: "+t.getInfo(),e)}))),e.abrupt("return",!0);case 23:throw e.prev=23,e.t0=e.catch(10),console.log("Play Failed: "+this.getInfo(),e.t0),e.t0.code==m?this._state=o.LOADED:(this._adInstance=null,this._state=o.NONE,this._autoLoadOnPlay&&(console.log("Reload after 1 seconds: "+this.getInfo()),h(1,this.loadAsync.bind(this)).catch((function(e){console.info("Reload Failed: "+t.getInfo(),e)})))),e.t0;case 28:case"end":return e.stop()}}),e,this,[[10,23]])})));return function(){return e.apply(this,arguments)}}(),a}(v),x=function(e){function t(t,r,n){return e.call(this,t,i.INTERSTITIAL,r,n)||this}return r(t,e),t.prototype.createAdInstanceAsync=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FBInstant.getInterstitialAdAsync(this._adId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(O),L=function(e){function t(t,r,n){return e.call(this,t,i.REWARDED_VIDEO,r,n)||this}return r(t,e),t.prototype.createAdInstanceAsync=function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FBInstant.getRewardedVideoAsync(this._adId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(O),b=function(e){function t(t,r,n){return e.call(this,t,i.BANNER,r,n)||this}r(t,e);var n=t.prototype;return n.showAsync=function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isReadyToRefresh()){e.next=3;break}throw console.log("Play too frequently, wait for "+this.getNextRefreshInterval()+" seconds: "+this.getInfo()),y;case 3:if(!this.isErrorTooMany()){e.next=6;break}throw console.log("Too many errors, stop: "+this.getInfo()),w;case 6:if(this._state!=o.LOADING){e.next=9;break}throw console.info("Banner is loading, wait for it: "+this.getInfo()),_;case 9:return e.prev=9,this._state=o.LOADING,console.log("Show Banner: "+this.getInfo()),e.next=14,FBInstant.loadBannerAdAsync(this._adId);case 14:this._state=o.PLAYING,console.log("Show Banner Success: "+this.getInfo()),this.updateLastShowTime(),this.resetErrorCounter(),e.next=25;break;case 20:throw e.prev=20,e.t0=e.catch(9),console.error("Show Banner Failed: "+this.getInfo(),e.t0),e.t0.code==m?this._state=o.NONE:e.t0.code==N?(console.error("Ads Not Fill, Stop: "+this.getInfo()),this.setFatalError()):(this.increaseErrorCounter(),this._state=o.NONE),e.t0;case 25:case"end":return e.stop()}}),e,this,[[9,20]])})));return function(){return e.apply(this,arguments)}}(),n.hideAsync=function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._state==o.PLAYING){e.next=3;break}throw console.log("No Banner Playing: "+this.getInfo()),R;case 3:return e.prev=3,console.log("Hide Banner: "+this.getInfo()),e.next=7,FBInstant.hideBannerAdAsync();case 7:this._state=o.NONE,e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(3),console.error("Hide Banner Failed: "+this.getInfo(),e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),t}(v),D=e("default",function(){function e(){}return e.getVersion=function(){return"1.0.4"},e.addInterstitial=function(e,t){void 0===t&&(t=1),null==this._interstitialTimer&&(this._interstitialTimer=new E(this.defaultInterstitialTimerOption.refreshInterval,this.defaultInterstitialTimerOption.delayForFirstAd));for(var r=0;r<t;r++){if(this._interstitialAds.length>=3)throw console.log("Fail to add interstitial, too many instances: "+this._interstitialAds.length,e),d;var n=new x(e,this._interstitialTimer,this.defaultInterstitialOption);this._interstitialAds.push(n),console.log("Add Interstitial: "+e,"count: "+this._interstitialAds.length)}return this._interstitialAds.length},e.addRewardedVideo=function(e,t){void 0===t&&(t=1),null==this._rewardedVideoTimer&&(this._rewardedVideoTimer=new E(this.defaultRewardedVideoTimerOption.refreshInterval,this.defaultRewardedVideoTimerOption.delayForFirstAd));for(var r=0;r<t;r++){if(this._rewardedVideos.length>=3)throw console.log("Fail to add RewardedVideo, too many instances: "+this._rewardedVideos.length,e),d;var n=new L(e,this._rewardedVideoTimer,this.defaultRewardedVideoOption);this._rewardedVideos.push(n),console.log("Add RewardedVideo: "+e,"count: "+this._rewardedVideos.length)}return this._rewardedVideos.length},e.addBanner=function(e){null==this._bannerTimer&&(this._bannerTimer=new E(this.defaultBannerTimerOption.refreshInterval,this.defaultBannerTimerOption.delayForFirstAd));var t=new b(e,this._bannerTimer,this.defaultBannerOption);return this._banners.push(t),console.log("Add Banner: "+e,"count: "+this._banners.length),t},e.loadAll=function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadAllAsync();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.loadAllAsync=function(){var e=s(regeneratorRuntime.mark((function e(){var t,r,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("FBAdManager Version: "+this.getVersion()),console.log("Init Ads Queue"),t=0;case 3:if(!(t<this._rewardedVideos.length)){e.next=18;break}if(r=this._rewardedVideos[t],!(t>0)){e.next=8;break}return e.next=8,h(.1);case 8:return e.prev=8,e.next=11,r.loadAsync();case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(8);case 15:t++,e.next=3;break;case 18:n=0;case 19:if(!(n<this._interstitialAds.length)){e.next=34;break}if(s=this._interstitialAds[n],!(n>0)){e.next=24;break}return e.next=24,h(.1);case 24:return e.prev=24,e.next=27,s.loadAsync();case 27:e.next=31;break;case 29:e.prev=29,e.t1=e.catch(24);case 31:n++,e.next=19;break;case 34:case"end":return e.stop()}}),e,this,[[8,13],[24,29]])})));return function(){return e.apply(this,arguments)}}(),e._isAdReady=function(e){for(var t=e==i.INTERSTITIAL?this._interstitialAds:this._rewardedVideos,r=!1,n=0;n<t.length;n++){var s=t[n];if(s.isReady()&&s.isReadyToRefresh()){r=!0;break}}return r},e._showAsync=function(e){for(var t=e==i.INTERSTITIAL?this._interstitialAds:this._rewardedVideos,r=null,n=0;n<t.length;n++){var s=t[n];if(s.isReady()&&s.isReadyToRefresh()){r=s;break}}if(null!=r)return r.showAsync();throw l},e._getAdTimer=function(e){return e==i.INTERSTITIAL?this._interstitialTimer:e==i.REWARDED_VIDEO?this._rewardedVideoTimer:this._bannerTimer},e.isInterstitialAdReady=function(){return this._isAdReady(i.INTERSTITIAL)},e.showInterstitialAd=function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._showAsync(i.INTERSTITIAL);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.isRewardedVideoReady=function(){return this._isAdReady(i.REWARDED_VIDEO)},e.showRewardedVideo=function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._showAsync(i.REWARDED_VIDEO);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.checkApiSupport=function(e){return FBInstant.getSupportedAPIs().indexOf(e)>=0},e.isBannerSupport=function(){return void 0===this._bannerSupport&&(this._bannerSupport=this.checkApiSupport("loadBannerAdAsync")),this._bannerSupport},e.isBannerReady=function(){if(this._banners.length<=0)throw A;return this._banners[0].isReadyToRefresh()},e.showBannerAsync=function(){var e=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isBannerSupport()){e.next=2;break}throw g;case 2:if(!(this._banners.length<=0)){e.next=4;break}throw A;case 4:return t=this._banners[0],e.next=7,t.showAsync();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.hideBannerAsync=function(){var e=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isBannerSupport()){e.next=2;break}throw g;case 2:if(!(this._banners.length<=0)){e.next=4;break}throw A;case 4:return t=this._banners[0],e.next=7,t.hideAsync();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}());t(D,"_interstitialAds",[]),t(D,"_rewardedVideos",[]),t(D,"_banners",[]),t(D,"_interstitialTimer",null),t(D,"_rewardedVideoTimer",null),t(D,"_bannerTimer",null),t(D,"_bannerSupport",void 0),t(D,"defaultInterstitialOption",{autoLoadOnPlay:c,maxLoadError:3}),t(D,"defaultRewardedVideoOption",{autoLoadOnPlay:c,maxLoadError:3}),t(D,"defaultBannerOption",{autoLoadOnPlay:c,maxLoadError:1}),t(D,"defaultInterstitialTimerOption",{refreshInterval:40,delayForFirstAd:30}),t(D,"defaultRewardedVideoTimerOption",{refreshInterval:0,delayForFirstAd:0}),t(D,"defaultBannerTimerOption",{refreshInterval:40,delayForFirstAd:0}),a._RF.pop()}}}));

System.register("chunks:///_virtual/particleMamager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./PoolManager.ts"],(function(e){"use strict";var t,n,r,i,o,c,l,a,s,f,u;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,l=e._decorator,a=e.Prefab,s=e.Animation,f=e.Component},function(e){u=e.PoolManager}],execute:function(){var p,d,y,h,M,g,m,v,P;c._RF.push({},"ff18aFGN+ZPVbV3nDi979f4","particleMamager",void 0);var b=l.ccclass,E=l.property;e("ParticleMamager",(p=b("ParticleMamager"),d=E({type:a,displayOrder:1}),y=E({type:a,displayOrder:1}),p((P=v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"collectMineEffect",g,o(t)),i(o(t),"collectMineEffect2",m,o(t)),t}r(t,e);var n=t.prototype;return n.onLoad=function(){t.Instance=this},n.showCollectMineEffect=function(e,t){var n;t=t||this.node;var r=this.collectMineEffect;Math.random()>=.5&&(r=this.collectMineEffect2);var i=u.getNode(r,t);i.setWorldPosition(e),null==i||null===(n=i.getComponent(s))||void 0===n||n.play(),this.scheduleOnce((function(){u.setNode(i)}),.4)},t}(f),t(v,"Instance",null),g=n((M=P).prototype,"collectMineEffect",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(M.prototype,"collectMineEffect2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=M))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BezierN.ts","./BezierFly.ts","./Group.ts","./FBAdManager.ts","./FBApp.ts","./receiveSucTIp.ts","./Constants.ts","./AudioManager.ts","./EventBus.ts","./Config.ts","./BrickHttp.ts","./ConvenientRequest.ts","./CrazyClick.ts","./Hover.ts","./Utility.ts","./Treasure.ts","./videoADCloseTip.ts","./ApplicationHelper.ts","./QtSdk.ts","./Map.ts","./Brick.ts","./MainPage.ts","./start.ts","./ShopPage.ts","./PoolManager.ts","./FBSdk.ts","./FBNode.ts","./ColliderViewer.ts","./Pathway.ts","./FinishLine.ts","./GlobalEnum.ts","./Car.ts","./SettlementPage.ts","./Joystick.ts","./HttpState.ts","./castle.ts","./woodenHouse2.ts","./foundation.ts","./CameraManager.ts","./Player.ts","./Man.ts","./particleMamager.ts","./Mine.ts","./Random.ts","./GamePage.ts","./TrialPage.ts","./Enemy.ts","./SharePage.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});